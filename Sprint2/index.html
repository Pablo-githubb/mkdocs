
<!doctype html>
<html lang="ca" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../Sprint1/">
      
      
        <link rel="next" href="../Sprint3/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.42">
    
    
      
        <title>Sprint2 - Sistemes Informàtics Pablo</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sprint2" class="md-skip">
          Salta el contingut
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Capçalera">
    <a href=".." title="Sistemes Informàtics Pablo" class="md-header__button md-logo" aria-label="Sistemes Informàtics Pablo" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Sistemes Informàtics Pablo
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Sprint2
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="orange" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Neteja" aria-label="Neteja" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicialitzant cerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Pestanyes" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Inici

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Sprint1/" class="md-tabs__link">
        
  
    
  
  Sprint1

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  Sprint2

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Sprint3/" class="md-tabs__link">
        
  
    
  
  Sprint3

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../Sprint4/" class="md-tabs__link">
        
  
    
  
  Sprint4

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navegació" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Sistemes Informàtics Pablo" class="md-nav__button md-logo" aria-label="Sistemes Informàtics Pablo" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Sistemes Informàtics Pablo
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inici
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Sprint1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint1
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Sprint2
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Sprint2
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Taula de continguts">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Taula de continguts
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sprint2" class="md-nav__link">
    <span class="md-ellipsis">
      Sprint2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-gestio-de-processos" class="md-nav__link">
    <span class="md-ellipsis">
      1. Gestió de processos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Gestió de processos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-matar-processos" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Matar processos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-definicions" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Definicions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-gestio-dusuaris-i-grups-i-permisos" class="md-nav__link">
    <span class="md-ellipsis">
      2. Gestió d'usuaris i grups i permisos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Gestió d'usuaris i grups i permisos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-crear-nous-usuaris" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Crear nous usuaris
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-versio-grafica" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.2 Versió gràfica
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-permisos" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Permisos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 Permisos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#213-comprovacio" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.3 Comprovació:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-crear-grups" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Crear grups
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 Crear grups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-modificacio-grups" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 Modificació grups
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-bloqueig" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Bloqueig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-caducitat-de-les-paraules-de-pas" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Caducitat de les paraules de pas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-editar-valors-de-nous-usuaris" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Editar valors de nous usuaris
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.6 Editar valors de nous usuaris">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#261-comprovacio" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.1 Comprovació:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#262-afegir-usuaris-al-sudo" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.2 Afegir usuaris al sudo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#263-borrar-usuaris" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.3 Borrar usuaris
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#264-enllacar" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.4 Enllaçar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#265-editar-ruta-terminal-per-defecte" class="md-nav__link">
    <span class="md-ellipsis">
      2.6.5 Editar ruta terminal per defecte
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-permisos-normals-uog" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Permisos "normals" UOG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#28-umask" class="md-nav__link">
    <span class="md-ellipsis">
      2.8 UMASK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#29-permisos-especials" class="md-nav__link">
    <span class="md-ellipsis">
      2.9 Permisos especials
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#210-acl-access-control-list" class="md-nav__link">
    <span class="md-ellipsis">
      2.10 ACL (Access Control List)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-sistemes-de-fitxers-i-particions" class="md-nav__link">
    <span class="md-ellipsis">
      3. Sistemes de fitxers i particions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Sistemes de fitxers i particions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-teoria" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Teoria:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-tipus-de-formateig" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Tipus de formateig
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-sistemes-de-fitxers" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Sistemes de fitxers:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#331-muntatge-provisional" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1 MUNTATGE PROVISIONAL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3.1 MUNTATGE PROVISIONAL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#332-muntatge-permanent" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2 MUNTATGE PERMANENT
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-sistemes-de-fitxers" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 SISTEMES DE FITXERS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-copies-de-seguretat-i-automatitzacio-de-tasques" class="md-nav__link">
    <span class="md-ellipsis">
      4. Còpies de seguretat i automatització de tasques
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Còpies de seguretat i automatització de tasques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-conceptes-basics" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Conceptes bàsics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-programes-en-interficie" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 Programes en interfície
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 Programes en interfície">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421-deja-dup" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 Deja Dup
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-duplicity" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 Duplicity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#423-timeshift" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.3 Timeshift
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-comandes" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 Comandes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-cp" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 CP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-rsync" class="md-nav__link">
    <span class="md-ellipsis">
      4.5 RSYNC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-automatitzacio" class="md-nav__link">
    <span class="md-ellipsis">
      4.6 Automatització
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.6 Automatització">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#461-teoria" class="md-nav__link">
    <span class="md-ellipsis">
      4.6.1 Teoría
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#462-practica" class="md-nav__link">
    <span class="md-ellipsis">
      4.6.2 Pràctica
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.6.2 Pràctica">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chron" class="md-nav__link">
    <span class="md-ellipsis">
      Chron
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anacron" class="md-nav__link">
    <span class="md-ellipsis">
      Anacron
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Sprint3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint3
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Sprint4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sprint4
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h2 id="sprint2">Sprint2</h2>
<h1 id="1-gestio-de-processos">1. Gestió de processos</h1>
<p>Alhora d'identificar procesos podem utilitzar la comanda <code>pstree</code>. Però, per no tindre incompatibilitats utilitzarem la comanda <code>sudo su</code> per estar en superadmin.
<img alt="" src="../img/pstree.png" title="terminal en superadmin" /></p>
<p>Ara si utilitzem <code>pstree -h "usuari"</code> podrem veure els procesos executats per l'usuari indicat (en el meu cas, pmc)
<img alt="" src="../img/pstreeh.png" title="terminal en superadmin" /></p>
<p>A més a més, utilitzant la comanda <code>pstree -h -p "usuari"</code> podem a més veure els procesos de l'usuari amb el ID de cada proces.
<img alt="" src="../img/pstreep.png" title="terminal en superadmin" /></p>
<h2 id="11-matar-processos">1.1 Matar processos</h2>
<p>Amb la comanda top a la terminal, se'ns obrirà un administrador de tasques a temps real de tots els processos que tenim funcionant al nostre sistema i les seves especificacions. Per identificar a un process ens hem de fixar en el seu PID.</p>
<p>Si nosaltres volem acabar amb un proces solament hem d'utilitzar la comanda:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sudo kill -7 elpiddelprocess
</span></code></pre></div>
<p><img alt="alt text" src="../img/top2.png" /></p>
<h2 id="12-definicions">1.2 Definicions</h2>
<p>Què és un usuari? Podem treballar amb més d'un usuari simultàniament? <strong>Un usuari és una entitat creada per poder gestionar un sistema opertiu, executar comandes, gestionar directoris, etc.</strong></p>
<p>Què és un grup i quina utilitat té agrupar usuaris en grups? <strong>Un grup és una agrupació d'usuaris el qual serveix per aplicar permisos i restricción molts usuaris al mateix temps.</strong></p>
<hr />
<h1 id="2-gestio-dusuaris-i-grups-i-permisos">2. Gestió d'usuaris i grups i permisos</h1>
<h2 id="21-crear-nous-usuaris">2.1 Crear nous usuaris</h2>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>adduser alumne1
</span></code></pre></div>
<img alt="" src="../img/alumne1.png" title="" />
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>adduser alumne2
</span></code></pre></div>
<img alt="" src="../img/alumne2.png" title="" />
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>adduser alumne3
</span></code></pre></div>
<img alt="" src="../img/alumne3.png" title="" />
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>adduser alumne4
</span></code></pre></div>
<img alt="" src="../img/alumne4.png" title="" /></p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>deluser alumne2
</span></code></pre></div>
<img alt="" src="../img/deluser2.png" title="" /></p>
<h2 id="212-versio-grafica">2.1.2 Versió gràfica</h2>
<p><img alt="" src="../img/gnome.png" title="ferramentes de gnome-system-tools" />
<img alt="" src="../img/gnome2.png" title="ferramentes de gnome-system-tools" />
<img alt="" src="../img/gnome3.png" title="ferramentes de gnome-system-tools" /></p>
<h2 id="22-permisos">2.2 Permisos</h2>
<ul>
<li>
<p><code>/etc/passwd</code>
Aquest fitxer conté informació sobre els usuaris del sistema. Cada línia representa un usuari i conté diversos camps separats per dos punts (:) amb informació bàsica.</p>
</li>
<li>
<p><code>/etc/group</code>
Aquest fitxer emmagatzema la informació sobre els grups del sistema. Cada línia representa un grup amb camps separats per dos punts (:).</p>
</li>
<li>
<p><code>/etc/shadow</code>
Aquest fitxer conté les contrasenyes xifrades dels usuaris, així com altres paràmetres relacionats amb l'expiració de la contrasenya. Només pot ser llegit per l'administrador del sistema per qüestions de seguretat.</p>
</li>
<li>
<p><code>/etc/gshadow</code>
Aquest fitxer emmagatzema les contrasenyes dels grups i altres configuracions d'accés als grups. Només pot ser llegit per l'administrador.</p>
</li>
</ul>
<p>En el fitxer <code>/etc/shadow</code>, el segon camp pot contenir símbols especials que indiquen l'estat de la contrasenya de l'usuari:</p>
<p>El * indica que el compte està bloquejat. Quan el sistema troba un * en aquest camp, es considera que no es pot iniciar sessió amb aquest compte.</p>
<p>El ! també indica que el compte està bloquejat, però en aquest cas la contrasenya encara és present però està desactivada. Això es fa per impedir l'accés sense eliminar la contrasenya completament.</p>
<p>En el fitxer <code>/etc/shadow</code>, el tercer camp, que correspon a la data de l'últim canvi de contrasenya, s'anomena "epoch". Aquesta data es calcula com el nombre de dies transcorreguts des de l'1 de gener de 1970, una data base coneguda com Unix Epoch.</p>
<hr />
<h3 id="213-comprovacio">2.1.3 Comprovació:</h3>
<p><img alt="" src="../img/alumne5.png" title="" /></p>
<hr />
<h2 id="23-crear-grups">2.3 Crear grups</h2>
<p>Creem 2 grups (alumnes i profes) amb la comanda addgroup. 
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>addgroup alumens
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>addgroup profes
</span></code></pre></div>
<img alt="" src="../img/groups.png" title="" /></p>
<p>Esborrem el grup de profes.
<img alt="" src="../img/groups2.png" title="" /></p>
<p>Creem el grup jocs
<img alt="" src="../img/groups3.png" title="" /></p>
<p>Afegim un usuari a un grup.
 <div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>usermod -a -G group user
</span></code></pre></div></p>
<h3 id="231-modificacio-grups">2.3.1 Modificació grups</h3>
<p>Modifiquem el nom del grup a "Jocs" a "alumnesASIX".
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>groupmod -n alumnesASIX jocs
</span></code></pre></div>
<img alt="" src="../img/modificacio7.png" title="" />
Modifiquem la paraula de pas d'alumne1.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>usermod -p contrasenya alumne1
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>cat /etc/shadow | grep alumne1
</span></code></pre></div>
<img alt="" src="../img/modificacio.png" title="" /></p>
<p>Modifiquem el nom d'alumne4 per alumne2.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>usermod -l alumne2 alumne4
</span></code></pre></div>
<p><img alt="" src="../img/modificacio3.png" title="" /></p>
<p>Afegim dintre del grup alumnesASIX  als 3 alumnes.
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>adduser alumne1 alumnesASIX
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>adduser alumne2 alumnesASIX
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>adduser alumne3 alumnesASIX
</span></code></pre></div>
<img alt="" src="../img/modificacio8.png" title="" />
Treiem a l'alumne2 del grup.
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>deluser alumne2 alumnesASIX
</span></code></pre></div>
O, també es podria utilitzar:
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>sudo gpasswd -d alumne2 alumnesASIX
</span></code></pre></div></p>
<p><img alt="" src="../img/modificacio9.png" title="" /></p>
<p>Afegim a l'alumne1 al grup de jocs, però com a administrador i alumne2 com a usuari normal.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>sudo usermod -aG jocs alumne1
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>sudo usermod -aG jocs alumne2
</span></code></pre></div>
<p>Fem que l'alumne1 tingui com a grup principal el grup d'alumneASIX.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>sudo usermod -g alumnesASIX alumne1
</span></code></pre></div>
<ul>
<li>Quina és la diferència entre el que apareix al fitxer /etc/group i el que apareix al fitxer /etc/gshadow?</li>
</ul>
<p><strong>/etc/group:</strong> Emmagatzema informació bàsica sobre els grups, el nom del grup, l’identificador de grup (GID) i els membres associats.</p>
<p><strong>/etc/gshadow:</strong> Emmagatzema la informació confidencial del grup, la contrasenya encriptada del grup i els usuaris que tenen permisos per administrar-lo.</p>
<hr />
<h2 id="24-bloqueig">2.4 Bloqueig</h2>
<p>Bloquejem un usuari i comprovem que no pots accedir amb ell.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>usermod -L alumne3
</span></code></pre></div>
<img alt="" src="../img/bloqueig.png" title="" />
<img alt="" src="../img/bloqueig2.png" title="" /></p>
<p>Ara, desbloquejem i comprovem que ja pots tornar a accedir amb ell.
<div class="language-text highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>usermod -U alumne3
</span></code></pre></div>
<img alt="" src="../img/bloqueig3.png" title="" />
<img alt="" src="../img/bloqueig4.png" title="" /></p>
<ul>
<li>Per a què pot servir bloquejar un usuari? <strong>Podem voldre a bloquejar els usuaris per ocultar-los o impedir l'utilització d'aquests per raons de seguretat.</strong></li>
</ul>
<hr />
<h2 id="25-caducitat-de-les-paraules-de-pas">2.5 Caducitat de les paraules de pas</h2>
<ul>
<li>M (Maximum days): Defineix el nombre màxim de dies abans que la contrasenya caduqui i l’usuari estigui obligat a canviar-la.</li>
<li>m (Minimum days): Defineix el nombre mínim de dies abans que un usuari pugui canviar la seva contrasenya després d’haver-la canviat.</li>
<li>W (Warning days): Defineix el nombre de dies d'avís abans de la caducitat, en què el sistema notificarà a l'usuari que ha de canviar la contrasenya.</li>
<li>E (Expire date): Permet especificar una data exacta per a la caducitat del compte de l'usuari. Per exemple, -E 2024-12-31 caducaria l'usuari el 31 de desembre de 202</li>
<li>M 30: Estableix la caducitat de la contrasenya a 30 dies. Això vol dir que l’usuari haurà de canviar la seva contrasenya cada 30 dies.</li>
<li>m 7: Estableix el mínim de dies abans que l’usuari pugui canviar la seva contrasenya de nou, que en aquest cas és 7 dies.</li>
<li>W 5: Estableix que l’usuari rebrà un avís 5 dies abans que caduqui la seva contrasenya.</li>
</ul>
<p>Primer, amb la comanda <code>adduser provachage</code> creem el usuari de proves que utilitzarem.
<img alt="" src="../img/chage.png" title="" /></p>
<p>Desprès amb la següent comanda:
<div class="language-text highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>chage -M 30 -m 7 -W 5 provachage
</span></code></pre></div>
<img alt="" src="../img/chage2.png" title="" />
Apliquem la configuració al usuari</p>
<p>Finalment, amb <code>chage -l provachage</code> verifiquem la configuarció.
<img alt="" src="../img/chage3.png" title="" /></p>
<hr />
<h2 id="26-editar-valors-de-nous-usuaris">2.6 Editar valors de nous usuaris</h2>
<div class="language-text highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>sudo nano /etc/login.defs
</span></code></pre></div>
<p>UID_MIN</p>
<p>UID_MAX</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>sudo nano /etc/adduser.conf
</span></code></pre></div>
Dintre d'aquest arxiu podem configurar els paràmetres quan es crea un nou usuari. D'aquesta manera tots el usuaris que creem tindran aplicats els paràmetres que nosaltres hem marcat. Llavors farem una prova modificant els següents paràmetres:</p>
<p><code>SHELL=/bin/bash</code></p>
<p><code>HOME=/var</code></p>
<p><code>SKEL=/etc/skel</code>
<img alt="" src="../img/adduserconf.png" title="" />
<div class="language-text highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>sudo nano /etc/default/useradd
</span></code></pre></div>
<img alt="" src="../img/defaultuser.png" title="" /></p>
<h3 id="261-comprovacio">2.6.1 Comprovació:</h3>
<p><img alt="" src="../img/defaultuser2.png" title="" />
<img alt="" src="../img/defaultuser3.png" title="" /></p>
<hr />
<h3 id="262-afegir-usuaris-al-sudo">2.6.2 Afegir usuaris al sudo</h3>
<p>La comanda següent serveix per afegir un usuari al group sudo.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>adduser alumne1 sudo 
</span></code></pre></div>
<img alt="" src="../img/sudo.png" title="" /></p>
<p>D'altra banda, aquesta comanda serveix per treure al alumne1 del group sudo.
<div class="language-text highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>deluser alumne1 sudo 
</span></code></pre></div>
<img alt="" src="../img/sudo2.png" title="" /></p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>gpasswd -A user group
</span></code></pre></div>
<hr />
<h3 id="263-borrar-usuaris">2.6.3 Borrar usuaris</h3>
<p>Al moment de voldre eliminar un usuari del sistema tenim dues maneres. La primera és amb la següent comanda per borrar l'usuari SENSE LA SEVA /HOME
<div class="language-text highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>deluser provaborrar
</span></code></pre></div></p>
<p>Pe'l contrari, amb la següent comanda borrem l'usuari i la seva /home al mateix temps 
<div class="language-text highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>userdel -r provaborrar
</span></code></pre></div>
<img alt="" src="../img/borrar.png" title="" /></p>
<h3 id="264-enllacar">2.6.4 Enllaçar</h3>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>ls -s /tmp /etc/skel/temporalcd 
</span></code></pre></div>
<img alt="" src="../img/skel.png" title="" /></p>
<h3 id="265-editar-ruta-terminal-per-defecte">2.6.5 Editar ruta terminal per defecte</h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>nano /etc/skel/.profile
</span></code></pre></div>
<p>Editem la fila PWD='var' perquè quan s'obrigue una nova terminal, la ruta per defecte serà /var.</p>
<p><img alt="" src="../img/skel2.png" title="" /></p>
<p>Dintre de l'arxiu agregarem la comanada <code>rm -r /home/$USER/Baixades/*</code> per a que quan accedim a un usuari nou, borri directament els arxius de la seva carpeta /Baixades
<div class="language-text highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>nano /etc/skel/.bash_logout
</span></code></pre></div></p>
<p><img alt="" src="../img/skel3.png" title="" /></p>
<p><img alt="" src="../img/pissarra.jpg" title="" /></p>
<hr />
<h2 id="27-permisos-normals-uog">2.7 Permisos "normals" UOG</h2>
<p>Llenguatge octal per calcular permissos</p>
<p>(-) significa que és un fitxer</p>
<p>(d) significa que és un directori/carpeta</p>
<p>(r) read</p>
<p>(w) write</p>
<p>(x) execute</p>
<p>Podem veure amb la comanda <code>ls -l</code> el llistat d'arxiu/directoris de la carpeta actual amb els seus permisos i més informació.</p>
<p><img alt="" src="../img/permisos2.png" title="" /></p>
<p>Amb la comanda <code>chgrp -R group /carpeta</code> podem donar els permisos normals a un grup específic per a la carpeta.</p>
<p><img alt="" src="../img/permisos3.png" title="" /></p>
<hr />
<h2 id="28-umask">2.8 UMASK</h2>
<p>UMASK (User Mask) és una configuració en Ubuntu i altres sistemes basats en Linux que controla quins permisos tindran per defecte els fitxers i directoris nous que creïs. Podríem dir que actua com un filtre que elimina determinats permisos del que es permet per defecte, ajudant a mantenir la seguretat del sistema.</p>
<p>Quan crees un fitxer o un directori, el sistema aplica uns permisos base predeterminats. Aquests són:</p>
<ul>
<li>Fitxers normals: Tenen permisos base de 666 (lectura i escriptura per a tothom, però sense execució).</li>
<li>Directoris: Tenen permisos base de 777 (lectura, escriptura i execució per a tothom).</li>
</ul>
<p>A continuació, la UMASK es resta d'aquests permisos base. Així, es defineixen els permisos finals del fitxer o directori nou.</p>
<p>Pots veure la configuració actual de UMASK simplement escrivint: <code>umask</code></p>
<p><img alt="alt text" src="../image-3.png" /></p>
<p>Per canviar-la temporalment a un valor com 077, que bloquejaria tots els permisos per als altres:
<div class="language-text highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>umask 077
</span></code></pre></div>
Els fitxers creats després d'aquest canvi només tindran permisos per a tu.</p>
<hr />
<h2 id="29-permisos-especials">2.9 Permisos especials</h2>
<p><img alt="" src="../img/permisos.png" title="" /></p>
<p>Sabem que amb la comanda <code>chmod ...</code> podem modificar els permisos sobre les posicions dels núemeros en octal.</p>
<ul>
<li>Primera posició: l'usuari propietari. </li>
<li>Segona posició: grups.</li>
<li>Tercera posició: altres. </li>
</ul>
<p><img alt="" src="../img/permisosespecials.png" title="" /></p>
<p>Ara, podem agregar aquests permisos a carpetes compartides amb les comandes següent:</p>
<p>Per a aplicar aquest permisos a un arxiu en una carpeta compartida ho podem fer amb:
<div class="language-text highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>chmod -x arxiu
</span></code></pre></div>
<img alt="" src="../img/chmod.png" title="" /></p>
<p>Desprès, amb:
<div class="language-text highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>chmod u+s arxiu
</span></code></pre></div>
<img alt="" src="../img/chmod2.png" title="" /></p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>chmod o+t carpeta/
</span></code></pre></div>
<img alt="" src="../img/chmod3.png" title="" /></p>
<p>Situa't al teu directori personal (/home/usuari). Crea utilitzant el teu usuari estàndard (no root) un fitxer buit anomenat ex1.txt.
<img alt="alt text" src="../img/chmod4.png" />
<img alt="alt text" src="../img/chmod5.png" /></p>
<p><em>Qui és el usuari propietari del fitxer? Com pots veure aquesta informació?</em> <strong>L'usuari propietari del fitxer és el propi usuari </strong>pmc<strong>. Aquesta informació la pots veure amb la comanda <code>ls -l</code>.</strong></p>
<p><em>Qui és el grup propietari del fitxer?</em> <strong>Com pots veure aquesta informació? També el grup propietari de l'arxiu ex1 creat és el mateix usuari </strong>pmc<strong>. Aquesta informació la pots veure amb la comanda <code>ls -l</code>.</strong></p>
<p>Situa't al teu directori personal (/home/usuari). Crea utilitzant amb l'usuari root (executant amb sudo) un fitxer buit anomenat ex2.txt.</p>
<p><img alt="alt text" src="../img/chmod6.png" />
<img alt="alt text" src="../img/chmod7.png" /></p>
<p><em>Qui és el usuari propietari del fitxer?</em> <strong>L'usuari propietari del fitxer és l'usuari root. Aquesta informació la pots veure amb la comanda <code>ls -l</code>.</strong></p>
<p><em>Qui és el grup propietari del fitxer?</em> <strong>L'usuari propietari del fitxer és l'usuari root. Aquesta informació la pots veure amb la comanda <code>ls -l</code>.</strong></p>
<p>Utilitzant notació octal (000, 010, …), crea un fitxer ex7.txt al teu directori personal i assigna-li amb una sola execució els següents permisos:</p>
<p><em>Permís de lectura i escriptura per a l'usuari.</em></p>
<p><em>Permís de només lectura per al grup.</em></p>
<p><em>Cap permís per a altres.</em></p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>touch ex7.txt
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>chmod 640 ex7.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod8.png" /></p>
<p>Verifiquem el permisos de l'arxiu.
<div class="language-text highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>ls -l ex7.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod9.png" /></p>
<p>Utilitzant notació octal (000, 010, …), crea un fitxer ex8.txt al teu directori personal i assigna-li amb una sola execució els següents permisos:</p>
<p><em>Permís de lectura, escriptura i execució per a l'usuari.</em></p>
<p><em>Permís d'escriptura per al grup.</em></p>
<p><em>Permís d'execució per a altres.</em></p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>touch ex8.txt
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>chmod 721 ex8.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod10.png" /></p>
<p>Verifiquem el permisos de l'arxiu.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>ls -l ex8.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod11.png" /></p>
<p>Utilitzant notació octal (000, 010, …), crea un fitxer ex9.txt al teu directori personal i assigna-li amb una sola execució els següents permisos:</p>
<p><em>Permís de lectura, escriptura i execució per a l'usuari.</em></p>
<p><em>Permís de lectura i escriptura per al grup.</em></p>
<p><em>Permís de només lectura per a altres.</em></p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>touch ex9.txt
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>chmod 764 ex9.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod12.png" /></p>
<p>Verifiquem el permisos de l'arxiu.
<div class="language-text highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>ls -l ex9.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod13.png" /></p>
<p>Utilitzant notació octal (000, 010, …), crea un fitxer ex10.txt al teu directori personal i assigna-li amb una sola execució els següents permisos:</p>
<p><em>Permís activat SUID.</em></p>
<p><em>Permís de lectura i execució per a l'usuari.</em></p>
<p><em>Permís de sols lectura per al grup.</em></p>
<p><em>Cap permís per a altres.</em></p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>touch ex10.txt
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>chmod 4750 ex10.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod14.png" /></p>
<p>Verifiquem el permisos de l'arxiu.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>ls -l ex10.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod15.png" /></p>
<p>Utilitzant notació octal (000, 010, …), crea un fitxer ex11.txt al teu directori personal i assigna-li amb una sola execució els següents permisos:</p>
<p><em>Permisos activats SUID i GUID.</em></p>
<p><em>Permís de lectura per a l'usuari.</em></p>
<p><em>Permís d'escriptura per al grup.</em></p>
<p><em>Permís de lectura per a altres.</em></p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>touch ex11.txt
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>chmod 6754 ex11.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod16.png" /></p>
<p>Verifiquem el permisos de l'arxiu.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>ls -l ex11.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod17.png" /></p>
<p>Utilitzant notació octal (000, 010, …), crea un fitxer ex12.txt al teu directori personal i assigna-li amb una sola execució els següents permisos:</p>
<p><em>Permís sticky bit activat.</em></p>
<p><em>Permís de lectura i execució per a l'usuari.</em></p>
<p><em>Cap permís per al grup.</em></p>
<p><em>Permís de lectura per a altres.</em></p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>touch ex12.txt
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>chmod 1754 ex12.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod18.png" /></p>
<p>Verifiquem el permisos de l'arxiu.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>ls -l ~/ex12.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod19.png" /></p>
<p>Crea una carpeta pt13 al teu directori personal, i crea els fitxers ex13a.txt i ex13b.txt dintre de la carpeta pt13. Utilitzant notació octal (000, 010, …), estableix els següents permisos a la carpeta pt13, de forma que es propaguen automàticament a tots els fitxers, i demostra-ho:</p>
<p><em>Permís de lectura, escriptura i execució per a l'usuari.</em></p>
<p><em>Permís de lectura i escriptura per al grup.</em></p>
<p><em>Permís de lectura i escriptura per a altres.</em></p>
<p>Creem la carpeta i els fitxers:
<div class="language-text highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>mkdir pt13
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>touch pt13/ex13a.txt pt13/ex13b.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod20.png" /></p>
<p>Assignar permisos a la carpeta:
<div class="language-text highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a>chmod 377 pt13  # Heretaran lectura, escriptura i execució per a l&#39;usuari i grup
</span></code></pre></div>
<img alt="alt text" src="../img/chmod21.png" /></p>
<p>Verifiquem el permisos:
<div class="language-text highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>ls -ld pt13
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>ls -l pt13
</span></code></pre></div>
<img alt="alt text" src="../img/chmod22.png" /></p>
<p>Utilitzant notació <entitat(s)>[+-=]<permís(os)>, crea un fitxer ex14.txt al teu directori personal i fes el següent amb una sola comanda:</p>
<p><em>Afegeix permís d'execució per a l'usuari</em></p>
<p><em>Afegeix permís d'escriptura i execució per al grup.</em></p>
<p>Creem el fitxer i modifiquem els permisos:
<div class="language-text highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>touch ex14.txt
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>chmod u+x,g+wx ex14.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod23.png" /></p>
<p>Verifiquem el permisos de l'arxiu:</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a>ls -l ex14.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod24.png" /></p>
<p>Utilitzant notació <entitat(s)>[+-=]<permís(os)>, crea un fitxer ex15.txt al teu directori personal i fes el següent amb una sola comanda:</p>
<p><em>Afegeix permís d'escriptura per a tots els tipus d'usuari.</em></p>
<p>Creem el fitxer i modifiquem els permisos:
<div class="language-text highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a>touch ex15.txt
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>chmod a+w ex15.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod25.png" /></p>
<p>Verifiquem els permisos de l'arxiu:
<div class="language-text highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a>ls -l ex15.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod26.png" /></p>
<p>Utilitzant notació <entitat(s)>[+-=]<permís(os)>, crea un fitxer ex16.txt al teu directori personal i fes el següent amb una sola comanda:</p>
<p><em>Elimina permís d'escriptura per a l'usuari.</em></p>
<p><em>Elimina permís de lectura per als altres.</em></p>
<p>Creem el fitxer i modifiquem els permisos:
<div class="language-text highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a>touch ex16.txt
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>chmod u-w,o-r ex16.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod27.png" /></p>
<p>Verifiquem els permisos de l'arxiu:
<div class="language-text highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>ls -l ex16.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod28.png" /></p>
<p>Utilitzant notació <entitat(s)>[+-=]<permís(os)>, crea un fitxer ex17.txt al teu directori personal i fes el següent amb una sola comanda:</p>
<p><em>Estableix els permisos d'escriptura i d'execució per a tots els tipus d'usuari.</em></p>
<p>Creem el fitxer i modifiquem els permisos:
<div class="language-text highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a>touch ex17.txt
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>chmod ugo+wx ex17.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod29.png" /></p>
<p>Verifiquem els permisos de l'arxiu:
<div class="language-text highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>ls -l ex17.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod30.png" /></p>
<p>Crea com a administrador el fitxer pt22.txt (sudo) al teu directori personal i a continuació fes:</p>
<p><em>Que el teu usuari habitual es faci usuari propietari del fitxer.</em></p>
<p><em>Que el teu grup habitual es faci propietari del fitxer.</em></p>
<p>Creem el fitxer com a root:
<div class="language-text highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a>touch pt22.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod31.png" /></p>
<p>Canviem el propietari:
<div class="language-text highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>sudo chown pmc pt22.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod32.png" /></p>
<p>Canviem el grup:
<div class="language-text highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a>sudo chgrp pmc pt22.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod33.png" /></p>
<p>Verifiquem els canvis:
<div class="language-text highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>ls -l pt22.txt
</span></code></pre></div>
<img alt="alt text" src="../img/chmod34.png" /></p>
<hr />
<h2 id="210-acl-access-control-list">2.10 ACL (Access Control List)</h2>
<p>getfacl proves/ MOSTRA INFORMACIÓ</p>
<p>setfacl -m user:prova3:--- proves/ AFEGIR RESTRICCIONS</p>
<p>setfacl -b proves/ BORRAR RESTRICCIONS</p>
<p>Amb el teu usuari local (pmc) crea la carpeta exercicis i dóna-li permisos 770 de forma recursiva.</p>
<p>Amb la comanda <code>chmod -R</code> podem donar permisos recursivament.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a>chmod -R 770 /exercicis
</span></code></pre></div>
<img alt="alt text" src="../img/acls1.png" /></p>
<p>Amb <code>ls -ld</code> podem veure els permisos de la carpeta.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a>ls -ld /exercicis
</span></code></pre></div>
<img alt="alt text" src="../img/acls3.png" /></p>
<p>Ara, amb la comanda <code>setfacl -R -m</code> podem crear una nova llista ACL de manera que l’usuari vesper tingui tots els permisos.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a>setfacl -R -m u:vesper:rwx exercicis/
</span></code></pre></div>
<img alt="alt text" src="../img/acls4.png" /></p>
<p>I aqui està la comprovació. Amb la comanda <code>getfacl exercicis/</code>.</p>
<p><img alt="alt text" src="../img/acls5.png" /></p>
<p>Dintre de la carpeta <strong>exercicis</strong> creem una altra que es digui <strong>repas</strong></p>
<p><img alt="alt text" src="../img/acls6.png" />
<img alt="alt text" src="../img/acls7.png" /></p>
<p>Si volem ara comprovar els permisos de les llistes ACL, podem utilitzar aquestes comandes per accedir amb l'usuari <strong>vespre</strong>, <strong>crear un fitxer dintre</strong> i <strong>sortir</strong>.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a>sudo -u vesper bash
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a>touch ~/exercicis/repas/ex1  
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a>exit 
</span></code></pre></div>
<img alt="alt text" src="../img/acls8.png" /></p>
<p><img alt="alt text" src="../img/acls9.png" /></p>
<p>La comanda <code>setfacl -R -b</code> esborra els permisos ACL per a la carpeta exercicis quedant només els UGO.
<div class="language-text highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a>setfacl -R -b ~/exercicis  
</span></code></pre></div>
<img alt="alt text" src="../img/acls10.png" /></p>
<p>I comprovem i verifiquem que ja no hi han ACL</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a>getfacl exercicis/  
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a>ls -ld exercicis/ 
</span></code></pre></div>
<p><img alt="alt text" src="../img/acls11.png" /></p>
<p><img alt="alt text" src="../img/acls12.png" /></p>
<p>Creem un grup anomenat pugs i afegim dintre l’usuari vesper</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a>groupadd pugs
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a>usermod -aG pugs vesper
</span></code></pre></div>
<img alt="alt text" src="../img/acls14.png" /></p>
<p>Creem un altre usuari anomenat perrete</p>
<p><img alt="alt text" src="../img/acls13.png" /></p>
<p>Amb el teu usuari local (pmc) creo un arxiu de text amb permisos 770.</p>
<p><img alt="alt text" src="../img/acls15.png" />
<img alt="alt text" src="../img/acls16.png" />    </p>
<p>Finalment, creo una ACL per a aquest arxiu de forma que els usuaris del grup pugs puguin llegir-lo i modificar-lo i la resta d’usuaris res. Comprovem amb els dos usuaris que tenim, vesper i perrete</p>
<p>Amb aquesta comanda dono permisos d'escriptura i lectura al grup.
<div class="language-text highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a>setfacl -m g:pugs:rw exercicis/fitxerprova.txt  
</span></code></pre></div>
<img alt="alt text" src="../img/acls17.png" /></p>
<p>D'altra banda, amb aquesta denego l'accés a la resta d'usuaris.
<div class="language-text highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a>setfacl -m o::--- exercicis/fitxerprova.txt 
</span></code></pre></div>
<img alt="alt text" src="../img/acls18.png" /></p>
<p><img alt="alt text" src="../img/acls19.png" /></p>
<p><em>Finalment, comprovem l'accés dels dos usuaris vesper i perrete.</em>
<div class="language-text highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a>sudo -u vesper nano exercicis/fitxer.txt
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a>sudo -u perrete nano exercicis/fitxer.txt
</span></code></pre></div></p>
<hr />
<h1 id="3-sistemes-de-fitxers-i-particions">3. Sistemes de fitxers i particions</h1>
<h2 id="31-teoria">3.1 Teoria:</h2>
<p>Estructura de la informació</p>
<ul>
<li>
<p>Mida sector</p>
</li>
<li>
<p>Mida block</p>
</li>
<li>
<p>Fragmentació interna: Espai desaprofitat dels blocks o clusters //solució: fer els bloc més petits</p>
</li>
<li>
<p>Fragmentación externa: Arixus guardats en molt arxius a la vegada, aixo fa que la velocitat de lectura i escriptura es reduixque. </p>
</li>
</ul>
<h2 id="32-tipus-de-formateig">3.2 Tipus de formateig</h2>
<hr />
<h2 id="33-sistemes-de-fitxers">3.3 Sistemes de fitxers:</h2>
<p>Un sector es la unitat mínima física en la que es guarden les dades (unitat per defecte =512) (sector)</p>
<p>El sistema operatiu funciona = Mida del blocs (cluster) és la unitat mínima 4.096 bytes // podem canviar la mida dels blocs, però no dels sectors. </p>
<ul>
<li><code>du -b arxiu</code> veure la mida dels arxius.</li>
<li><code>du -sh arxiu</code> veure la mida real dels arxius.</li>
<li><code>df -T e4defracg -c /dev/sda2</code> comprobar si fa falta defragmentar el disc.</li>
</ul>
<blockquote>
<p>Format d'alt nivell: no borra els fitxers, borra els sistema d'arxius (no els borrar pero els oculta per a tu), ignora sectors.</p>
<p>Format normal: no borra els fitxers, borra els sistema d'arxius. Pero, si hi han sectors defectuosos no els guarda.</p>
<p>Format baix nivell: borra fitxers, borra sistemes d'arxiu i no comprova res. BORRA TOT, COM SI FOS UN DE FÀBRICA.</p>
</blockquote>
<p>La comanda <code>fdisk -l</code> servei per mirar el llistat de partiions muntados i no muntas que tenim al sistema.
<img alt="alt text" src="../img/fdiskl.png" /></p>
<p>A continuació, si volem muntar una nova partició ens hem d'adentra al menú de creació de particions. Això ho aconseguim amb la següent comanda (en el meu cas, la ruta del disc es /dev/sda):
<div class="language-text highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a>fdisk &quot;ruta del disc&quot;
</span></code></pre></div>
<img alt="alt text" src="../img/fdiskdev.png" /></p>
<p>Al moment de ja estar en el menú, per començar a configurar amb la lletra <code>n</code> creem una nova partició. <strong>utilitzem el elements per defecte menys el tamany del segon sector, fiquem la meitat.</strong></p>
<p><img alt="alt text" src="../img/fdiskn.png" /></p>
<p>Finalment, per aplicar el canvis realitzats hem d'utilitzar la lletra <code>w</code>.</p>
<p><img alt="alt text" src="../img/fdiskw.png" /></p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a>mkfs.ext4 -b 2048 /dev/sdb1
</span></code></pre></div>
<img alt="alt text" src="../img/mkfs.png" /></p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a>tune2fs -l /dev/sdb1 | grep Block
</span></code></pre></div>
<img alt="alt text" src="../img/tune.png" /></p>
<h2 id="331-muntatge-provisional">3.3.1 MUNTATGE PROVISIONAL</h2>
<p>Creem una carpeta qualsevol i muntem la nostra partició provisional que els canvis es desfaran al moment de reiniciar la màquina completament.
<div class="language-text highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a>mount -t ext4 (permisos opcional) /dev/sdb1 /var/particio1
</span></code></pre></div>
<img alt="alt text" src="../img/mount.png" /></p>
<p><em>Els archius no desapareixen si fas umount</em> 
<img alt="alt text" src="../img/umount.png" /></p>
<h3 id="332-muntatge-permanent">3.3.2 MUNTATGE PERMANENT</h3>
<p>Ara, per fer el muntatge permanentment haurem d'editar l'arxiu /etc/fstab. Dintre d'aquest document s'haurà d'editar la línia de la ruta del muntatge. Ho aconseguiran fent-ho d'aquesta manera.
<div class="language-text highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a>sudo nano /etc/fstab
</span></code></pre></div>
<img alt="alt text" src="../img/fstab.png" /></p>
<h2 id="34-sistemes-de-fitxers">3.4 SISTEMES DE FITXERS</h2>
<p><strong>ext4:</strong> L'ext4 és un sistema de fitxers utilitzat en Linux que serveix per organitzar i emmagatzemar dades al disc de manera eficient i segura. És ràpid, fiable i capaç de gestionar fitxers molt grans i discs moderns.</p>
<hr />
<h1 id="4-copies-de-seguretat-i-automatitzacio-de-tasques">4. Còpies de seguretat i automatització de tasques</h1>
<h2 id="41-conceptes-basics">4.1 <strong>Conceptes bàsics</strong></h2>
<p>S'ha d'establir una bona política de còpia de seguretat</p>
<p>Completa: És una còpia de seguretat la qual guarda totes les dades d'una vegada de tot el disc. És més fàcil de recuperar les dades, ja que per a restaurar les dades es necessita l'última completa. Finalment, la còpia més lenta, perquè ha de copiar tota la informació del disc dur.</p>
<p>Diferencial: Solament guarda les diferències que hi ha des dee l'última còpia completa. Aquesta és més ràpida de fer a comparació de la completa perquè ha de guardar molts menys arxius i dades (tot depenent de tots els canvis que has pogut fer en un dia, però sempre serà menys que la completa). Per recuperar les dades necessites l'última còpia completa i diferencial abans de l'error al sistema.</p>
<p>Incremental: És la còpia que guarda la informació de la seva anterior còpia. És molt més ràpida perquè guarda menys dades que les altres i per recuperar les dades es necessita tot el recorregut de còpies des de l'última completa fins a les anteriors a l'última incremental que has fet abans de l'error del sistema.</p>
<hr />
<h2 id="42-programes-en-interficie">4.2 Programes en interfície</h2>
<h3 id="421-deja-dup">4.2.1 Deja Dup</h3>
<p>Deja Dup és una interfície gràfica d'usuari (GUI) que simplifica les còpies de seguretat mitjançant Duplicity com a motor. És molt fàcil d'utilitzar, ja que està dissenyat per a usuaris que busquen una solució senzilla i fiable.
Característiques principals:</p>
<ul>
<li>Interfície intuïtiva: Pots configurar còpies de seguretat en només uns pocs passos.</li>
<li>Xifratge: Les dades es poden xifrar per protegir-les de l'accés no autoritzat.</li>
<li>Còpies incrementals: Només copia els canvis des de l'última còpia de seguretat, estalviant espai i temps.</li>
<li>Integració amb serveis al núvol: Suporta serveis com Google Drive i altres llocs remots via FTP, SFTP, WebDAV, etc.</li>
<li>Planificació automàtica: Pots programar còpies de seguretat regulars.</li>
</ul>
<p><strong>Per utilitzar-lo seguim els següents pasos:</strong></p>
<ol>
<li>L'instal·lem (si no el tenim ja):
<div class="language-text highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a>sudo apt install deja-dup
</span></code></pre></div></li>
<li>L'obrim des del menú d’aplicacions.</li>
<li>Seleccionem què volem incloure a la còpia de seguretat i on desar-la (pot ser un disc local, extern o al núvol).</li>
<li>Configurem la freqüència i si volem activar el xifratge.</li>
</ol>
<h3 id="422-duplicity">4.2.2 Duplicity</h3>
<p>Duplicity és una eina de línia de comandes que està darrere de Deja Dup. És ideal per a usuaris avançats que volen més control sobre les seves còpies de seguretat.
Característiques principals:</p>
<ul>
<li>Suport per a llocs remots: Funciona amb serveis al núvol i servidors remots.</li>
<li>Còpies de seguretat xifrades: Utilitza GPG per protegir les dades.</li>
<li>Còpies incrementals i compressió: Guarda només els canvis des de l'última còpia, utilitzant espai mínim.</li>
<li>Altament configurable: Pots ajustar cada detall del procés de còpia.</li>
</ul>
<p><strong>Creem una còpia de seguretat amb la següent comanda:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a>duplicity /carpeta/a/còpia file:///ruta/còpia
</span></code></pre></div></p>
<p><strong>Restaurem la còpia de seguretat amb la següent comanda:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a>duplicity restore file:///ruta/còpia /carpeta/de/restauració
</span></code></pre></div></p>
<h3 id="423-timeshift">4.2.3 Timeshift</h3>
<p>Timeshift és una eina especialment dissenyada per fer còpies de seguretat del sistema, similar als punts de restauració de Windows. És perfecte per restaurar el sistema en cas d'errors greus.
Característiques principals:</p>
<ul>
<li>Snapshots (instantànies): Guarda l’estat complet del sistema.</li>
<li>Suport per a Btrfs i Rsync: Pot utilitzar diferents sistemes de còpia de seguretat.</li>
<li>Automatització: Pots programar instantànies automàtiques.</li>
<li>Fàcil d’utilitzar: La seva interfície és molt senzilla i s’integra bé en sistemes com Ubuntu i Linux Mint.</li>
</ul>
<p><img alt="x" src="../img/timeshift1.png" title="" /></p>
<p><img alt="x" src="../img/timeshift3.png" title="" /></p>
<p><img alt="x" src="../img/timeshift4.png" title="" /></p>
<p><img alt="x" src="../img/timeshift5.png" title="" /></p>
<p><img alt="x" src="../img/timeshift6.png" title="" /></p>
<p><img alt="x" src="../img/timeshift7.png" title="" /></p>
<p><img alt="x" src="../img/timeshift8.png" title="" /></p>
<hr />
<h2 id="43-comandes">4.3 Comandes</h2>
<p>CP: és un còpia simple no intel·ligent que no mira res i ho còpia tot en local.</p>
<p>Creació partició <code>/dev/sdc</code>.
<img alt="" src="../img/fdisksdc.png" />
<img alt="" src="../img/fdisksdc2.png" /></p>
<p>Creació partició <code>/dev/sdd</code>.
<img alt="" src="../img/fdisksdd.png" />
<img alt="" src="../img/fdisksdc2.png" /></p>
<p><img alt="alt text" src="../img/mkfssdc1.png" />
<img alt="alt text" src="../img/mkfssdd1.png" /></p>
<hr />
<h2 id="44-cp">4.4 CP</h2>
<p>Per provar la funcionalitat de la comanda <code>cp</code>, crearem un fitxer i una carpeta de prova.
<img alt="alt text" src="../img/touchadeu.png" /></p>
<p>Amb la comanda <code>sudo cp -R /rutadelsarxiusquevolscopiar /rutadeonvolscopiarelsarxius</code> podràs copiar els arxius d'un dierctori específic a una altre.
<div class="language-text highlight"><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a>sudo cp -R /home/pmc/Documents/* /var/copia_dades/pablo
</span></code></pre></div>
<img alt="alt text" src="../img/cp.png" /></p>
<p>rsync: és un còpia intel·ligent que només copia els modificat i es pot fer entre màquines remotres per via SSH. </p>
<p>Creem uns nous arxius i eliminem els altres per fer una prova diferent.
<img alt="alt text" src="../img/rmrsync.png" /></p>
<hr />
<h2 id="45-rsync">4.5 RSYNC</h2>
<p>El que farà aquesta comanda és borrar els arxius que hi haguín dintre del directori destí i després copiarà els nous fitxers del directori origen.
<div class="language-text highlight"><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a>sudo rsync -av --delete /home/pmc/Docuements/ /var/copia_dades/pablo/
</span></code></pre></div></p>
<p><img alt="alt text" src="../img/rsyncdelete.png" /></p>
<p>DD: no és propiament per fer còpies d'arxius, treball en local i treballa a nivel de bloc. Serveix molt bé per fer clonacions de disc o particions. Copia tot el sistema d'arxius. Es pot utilitzar per esborrar definitivament les dades dels arixus d'un disc/partició.
<div class="language-text highlight"><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a>sudo dd if=/dev/sdc1 of=/dev/sdd1 bs=4M status progress
</span></code></pre></div>
<img alt="alt text" src="../img/dd.png" />
Si les dues ids de les particions són la mateixa, significa que el procediment que hem fet ha sigut correcte.
<img alt="alt text" src="../img/dd2.png" /></p>
<hr />
<h2 id="46-automatitzacio">4.6 Automatització</h2>
<h3 id="461-teoria">4.6.1 Teoría</h3>
<p>Diferencies entre Cron, Anacron </p>
<p>En SO anteriors funcionaven per separat pero ara funcionen conjuntament, serveix per automatitzar tasques.</p>
<p>Anarcron: Quan un oridinador pugui estar apagat perquè quan s'encen detecta la tasca que no s'ha exectuat perquè estava apagat i l'executa.
Quan siguen una automatització de tasques siguen més a nivell general en el sistema operatiu</p>
<p>Cron: S'utilitza més quan volem exectuar alguna cosa concretament a una hora determinada perquè pensem que l'ordinador estarà encès.</p>
<ul>
<li>
<p>Opcions del Cron:</p>
</li>
<li>
<p>Utilitzarem l'arxiu /etc/chromtab quan volem exectura alguna cosa globalment per a tots el usuaris.</p>
</li>
<li>Quan volem definir alguna cosa especifica per a un o més usuaris utilitzem la comanda: <code>crontab -e -u usuari</code>.</li>
</ul>
<h3 id="462-practica">4.6.2 Pràctica</h3>
<h4 id="chron">Chron</h4>
<p>Per configurar la compia de segureta amb cron, primer hem de crear un script amb amb la ruta i data a la que volem fer la còpia de seguretat.</p>
<p>Per fer aixo solament hem de crear un arxiu de text i afegir la línia d'ordres dintre del script i guardar-lo com .sh. Per exemple, <code>copia.sh</code>
<div class="language-text highlight"><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a>sudo nano copia.sh
</span></code></pre></div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a>#!/bin/bash
</span><span id="__span-87-2"><a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a>
</span><span id="__span-87-3"><a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a>TIMESTAMP=$(date + &quot;%Y%m%d_%H%M%S&quot;)
</span><span id="__span-87-4"><a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a>tar -cvf &quot;/home/$(whoami)/Desktop/copiaseguretat_$TIMESTAMP.tar.gz&quot; &quot;/home/$(whoami)/Documents&quot;
</span></code></pre></div>
<img alt="alt text" src="../img/cron1.png" /></p>
<p>Al finalitzar, amb <code>Ctrl+O</code> guardem i <code>Ctrl+X</code> per sortir de l'arxiu.</p>
<p><img alt="alt text" src="../img/cron2.png" /></p>
<p>Donem permissos d'execució a l'arxiu amb la comanda.
<div class="language-text highlight"><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a>chmod +x copia.sh
</span></code></pre></div>
<img alt="alt text" src="../img/cron9.png" /></p>
<p>Finalment, executem l'arxiu.</p>
<p><img alt="alt text" src="../img/cron3.png" /></p>
<h4 id="anacron">Anacron</h4>
<p>A continuació, per configurar Anacron, ens hem de dirigir a l'arxiu <code>/etc/crontab</code> i al final de les línies de codi configurem al nostra copia de seguretat.</p>
<p>Els primers <strong>dos</strong> dígits de la lína són per indicar els minuts i els altes dos per indicar <strong>l'hora</strong> de la copia.
D'altra banda, els altres 3 digits són per indicar <strong>dia del mes, mes i dia de la setmana</strong>.
<img alt="alt text" src="../img/cron4.png" /></p>
<p><img alt="alt text" src="../img/cron5.png" /></p>
<p>Si copiem el script de la còpia de seguretat a la carpeta de de configuració de la còpia de seguretat diaria (cron.daily/), <strong>s'executara la còpia automàticament sense tindre que executa el script a mà i tenint la màquina on.</strong></p>
<p>Com podem veure, la copia s'ha creat.</p>
<p><img alt="alt text" src="../img/cron7.png" /></p>
<p>Dintre de l'arxiu `/var/spool/anacron/cron.daily i fiquem una data específica, <strong>al reiniciar la màquina tindre la còpia de seguretat feta dintre del directori.</strong></p>
<p><img alt="alt text" src="../img/anacron1.png" /> </p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Torna a l'inici
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener" title="creativecommons.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m245.83 214.87-33.22 17.28c-9.43-19.58-25.24-19.93-27.46-19.93-22.13 0-33.22 14.61-33.22 43.84 0 23.57 9.21 43.84 33.22 43.84 14.47 0 24.65-7.09 30.57-21.26l30.55 15.5c-6.17 11.51-25.69 38.98-65.1 38.98-22.6 0-73.96-10.32-73.96-77.05 0-58.69 43-77.06 72.63-77.06 30.72-.01 52.7 11.95 65.99 35.86m143.05 0-32.78 17.28c-9.5-19.77-25.72-19.93-27.9-19.93-22.14 0-33.22 14.61-33.22 43.84 0 23.55 9.23 43.84 33.22 43.84 14.45 0 24.65-7.09 30.54-21.26l31 15.5c-2.1 3.75-21.39 38.98-65.09 38.98-22.69 0-73.96-9.87-73.96-77.05 0-58.67 42.97-77.06 72.63-77.06 30.71-.01 52.58 11.95 65.56 35.86M247.56 8.05C104.74 8.05 0 123.11 0 256.05c0 138.49 113.6 248 247.56 248 129.93 0 248.44-100.87 248.44-248 0-137.87-106.62-248-248.44-248m.87 450.81c-112.54 0-203.7-93.04-203.7-202.81 0-105.42 85.43-203.27 203.72-203.27 112.53 0 202.82 89.46 202.82 203.26-.01 121.69-99.68 202.82-202.84 202.82"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.selections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copiat al porta-retalls", "clipboard.copy": "C\u00f2pia al porta-retalls", "search.result.more.one": "1 m\u00e9s en aquesta p\u00e0gina", "search.result.more.other": "# m\u00e9s en aquesta p\u00e0gina", "search.result.none": "Cap document coincideix", "search.result.one": "1 document coincident", "search.result.other": "# documents coincidents", "search.result.placeholder": "Escriu per a comen\u00e7ar a cercar", "search.result.term.missing": "Desaparegut", "select.version": "Selecciona la versi\u00f3"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>