{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Benviguts al meu MKDOCS","text":""},{"location":"#objectius-sprint1","title":"Objectius Sprint1","text":"<ul> <li>Comprendre i identificar els components funcionals clau del sistema operatiu Ubuntu.</li> <li>Realitzar la instal\u00b7laci\u00f3 i configuraci\u00f3 inicial d\u2019Ubuntu.</li> <li>Realitzar la verificaci\u00f3 i configuraci\u00f3 dels protocols de xarxa.</li> <li>Utilitzar m\u00e0quines virtuals per a la configuraci\u00f3 i simulaci\u00f3 d'entorns diversos.</li> <li>Implementar i gestionar punts de restauraci\u00f3 del sistema utilitzant eines com Timeshift.</li> <li>Configurar gestors d'arrencada (GRUB) i optimitzar l'ordre d'arrencada del sistema.</li> <li>Instal\u00b7lar, configurar, verificar, i desinstal\u00b7lar aplicacions. </li> </ul>"},{"location":"#objectius-sprint2","title":"Objectius Sprint2","text":"<ul> <li>Comprendre i aplicar les t\u00e8cniques per gestionar usuaris, grups i permisos en un sistema operatiu basat en Linux.</li> <li>Configurar pol\u00edtiques de seguretat per a comptes d\u2019usuari i contrasenyes per garantir la seguretat del sistema.</li> <li>Instal\u00b7lar, configurar i gestionar serveis i processos essencials del sistema operatiu segons les necessitats de l\u2019entorn.</li> <li>Crear i administrar sistemes de fitxers, incloent-hi particions de disc.</li> <li>Implementar un sistema de c\u00f2pies de seguretat autom\u00e0tiques per assegurar la recuperaci\u00f3 de dades en cas de fallades.</li> <li>Realitzar proves per verificar el correcte funcionament del sistema, incloent-hi la gesti\u00f3 de serveis, processos i usuaris.</li> </ul>"},{"location":"Sprint1/","title":"Instal\u00b7laci\u00f3 d'Ubuntu 24.04 LTS","text":""},{"location":"Sprint1/#proces-dinstallacio","title":"Proc\u00e9s d'instal\u00b7laci\u00f3","text":"<p>Comen\u00e7arem el proc\u00e9s d'intal\u00b7laci\u00f3 de la m\u00e0quina virtual fican't-li un nom, el directori on volem que es guardi i la seva ISO corresponent.</p> <p></p> <p>M\u00e9s endavant, configurarem el usuari principal amb el seu username i la seva contrasenya. </p> <p></p> <p></p> <p></p>"},{"location":"Sprint1/#configurar-xarxa-nat","title":"Configurar Xarxa NAT","text":"<p>A continuaci\u00f3 crearem l'adaptador per crear una xarxa NAT a la nostra m\u00e0quina virutal. LLavors, ens dirigirem a l'apartat Fitxer&gt;Eines&gt;NetworkManager o fent la combinaci\u00f3 de tecles Ctrl+H per obrir el gestor de xarxes.</p> <p>En suma, premem el bot\u00f3 \"Crea\" per crear un nou adaptador i el configurem amb la nostra xarxa 10.0.2.0/24 </p> <p></p>"},{"location":"Sprint1/#proces-de-configuracio","title":"Proc\u00e9s de configuraci\u00f3","text":"<p>Comen\u00e7ant el proc\u00e9s de configuraci\u00f3 del sistema operatiu solament hem de configurar-ho amb les nostres preferencies i donar seg\u00fcent als passos. </p> <p></p> <p></p> <p>Ara, ens cal configurar manualment les nostres particions i el sistema de gesti\u00f3 d'emmagatzemament del nostre sistema. Per aix\u00f2, elegim l'opci\u00f3 de \"Manual installation\" i prenem el bot\u00f3 de seg\u00fcent.  Dintre d'aquesta pantalla el que farem ser\u00e1 amb l'espai lliure que ens deixa configurar prenem el signe de \"+\". Afegim 25GB la carpeta /home, 10GB a la carpeta Swap, (la resta de gigabytes a la /). </p> <p>Creem un compte per al nostre usuari principal amb una contraseya que sigui f\u00e1cil de recordar. </p> <p></p> <p></p> <p> Finalment, solament en fa falta reiniciar la m\u00e0quina virtual i ja tindrem el nostres sistema operatiu configurat i funcional.</p>"},{"location":"Sprint1/#configuracio-de-la-xarxa-interficie-grafica","title":"Configuraci\u00f3 de la xarxa (interf\u00edcie gr\u00e0fica)","text":"<p>Si volem aplicar la configuraci\u00f3 de l'adaptador amb Xarxa NAT hem de dirigirnos a par\u00e0metres&gt;Newtwork i configurar l'adaptador manualment. Ficarem com IP: 10.0.2.X amb una m\u00e0scara 255.255.255.0 i una porta d'enlla\u00e7 10.0.2.1. Aplicarem els canvis.  Comprovem si la IP s'ha canviat. </p> <p>Fem un ping per connectivitat. </p>"},{"location":"Sprint1/#configuracio-de-la-xarxa-amb-comandes","title":"Configuraci\u00f3 de la xarxa (amb comandes)","text":"<p>Ara, si volem fer el mateix procediment que abans amb la terminal ens d'utilitzar la comanda <code>sudo nano /etc/netplan/01-network-manager-all.yaml</code>. </p> <p>D'aquesta manera, copiarem tota la configuraci\u00f3 que hi ha a l'imatge, guardarem amb Ctrl+O i sortirem amb Ctrl+X.  Comprovem si la IP s'ha canviat. </p> <p>Fem un ping per connectivitat. </p>"},{"location":"Sprint1/#punts-de-restauracio","title":"Punts de restauraci\u00f3","text":""},{"location":"Sprint1/#timeshift","title":"Timeshift","text":""},{"location":"Sprint1/#grub","title":"GRUB","text":""},{"location":"Sprint1/#mbr-master-boot-record","title":"MBR (Master Boot Record)","text":"<p>MBR \u00e9s un format de partici\u00f3 m\u00e9s antic, creat als anys 80, utilitzant en molts sistemes operatius. \u00c9s compatible amb gaireb\u00e9 en tots. Per\u00f2, t\u00e9 algunes limitacions importants.</p> <ul> <li>Pot gestionar discs de fins a 2 TB de mida m\u00e0xima.</li> <li>Nom\u00e9s permet crear fins a 4 particions prim\u00e0ries. Si necessites m\u00e9s, has de convertir una de les particions en \"partici\u00f3 estesa\" i, dins d'ella, crear particions l\u00f2giques.</li> <li>L'MBR cont\u00e9 un petit codi de \"boot\" (arrencada), que \u00e9s el primer lloc on el sistema operatiu busca per iniciar-se quan engegues l'ordinador.</li> </ul> <p>Limitacions</p> <ul> <li>No suporta discs m\u00e9s grans de 2 TB.</li> <li>Menys flexible pel que fa a la quantitat de particions.</li> </ul>"},{"location":"Sprint1/#gpt-guid-partition-table","title":"GPT (GUID Partition Table)","text":"<p>GPT \u00e9s el nou format de particions el qual es va dissenyar per superar les limitacions del MBR. \u00c9s part de l'especificaci\u00f3 UEFI (Unified Extensible Firmware Interface) i ofereix moltes millores t\u00e8cniques.</p> <ul> <li>Suporta discs de fins a 9,4 ZB.</li> <li>Pot gestionar fins a 128 particions en molts sistemes (i m\u00e9s en d'altres), sense necessitat de particions esteses o l\u00f2giques.</li> <li>Cada partici\u00f3 en GPT t\u00e9 un identificador \u00fanic global (GUID), el que fa que sigui molt m\u00e9s robust a l'hora d'identificar particions.</li> <li>T\u00e9 c\u00f2pies de seguretat de la taula de particions, de manera que si una part del disc es corromp, \u00e9s m\u00e9s f\u00e0cil recuperar la informaci\u00f3.</li> </ul> <p>Quan instal\u00b7les Ubuntu o qualsevol altre sistema operatiu basat en Linux, pots triar entre utilitzar MBR o GPT per al disc, depenent de les teves necessitats. Tamb\u00e9 perqu\u00e8 hi han distribucions que actualment no soporten GPT encara.</p> <p></p> <p>Si tens un ordinador modern amb UEFI, la millor opci\u00f3 \u00e9s utilitzar GPT, perqu\u00e8 aprofita les capacitats modernes del maquinari i permet una millor gesti\u00f3 dels discs i particions.</p>"},{"location":"Sprint1/#elliminar-la-carpeta-grub","title":"El\u00b7liminar la carpeta GRUB","text":"<p>Per comen\u00e7ar la pr\u00e0ctica hem de descarregar la ISO del Boot Repair Disk.  Borrem tots el arxius de la carpeta <code>/boot/grub</code>.  Com podem veure, no estan els arxius necessaris de la carpeta d'arranc del sistema. </p> <p>Ara, el que volem fer es iniciar la m\u00e0quina virutal del nos super grub2 per poder restaurar el sistema d'arranc. </p> <p>Seguim tots els passos que es mostren en les captures.  </p> <p>Finalment, reiniciem la m\u00e0quina i vorem que ja ens arranca el Ubuntu. Com pas final, apliquem la comanda <code>sudo grub-install /dev/sda</code> i un <code>sudo update-grub2</code>. </p>"},{"location":"Sprint1/#boot-repair-disk","title":"Boot Repair Disk","text":"<p>Al moment de ja tindre instal\u00b7lat el Boot Repair Disk solament ens caldr\u00e0 fer la prova de borrar la nostra carpeta <code>boot/grub</code> provar a iniciar la ISO i veure si la ferramente ha arreglat el directori d'arranc.  </p> <p></p> <p>Com podem apreciar, tots els problemes d'arranc s'han arreglat i hem pogut iniciar el sistema operatiu correctament. </p>"},{"location":"Sprint1/#gestio-de-paquets","title":"Gesti\u00f3 de paquets","text":""},{"location":"Sprint1/#installacio-amb-synaptic","title":"Instal\u00b7laci\u00f3 amb Synaptic","text":"<p><pre><code>sudo apt-get install synaptic\n</code></pre> </p>"},{"location":"Sprint1/#installacio-amb-apt-get-o-apt","title":"Instal\u00b7laci\u00f3 amb apt-get o apt","text":"<p><pre><code>sudo apt update\napt search vim\nsudo apt install nom_del_paquet (vim)\nsudo apt install vim\n</code></pre> </p> <p></p>"},{"location":"Sprint1/#desinstallacio-amb-apt","title":"Desinstal\u00b7laci\u00f3 amb apt","text":"<p><pre><code>sudo apt remove nom_del_paquet (vim)\nsudo apt remove vim\nsudo apt purge nombre_del_paquete\nsudo apt autoremove\n</code></pre> </p> <p></p>"},{"location":"Sprint1/#instalacio-daplicacions-amb-repositoris","title":"Instalaci\u00f3 d'Aplicacions amb repositoris","text":"<p><pre><code>sudo apt update.sudo aptitude install \"nom_del_paquet\nsudo apt install apt-transport-https ca-certificates curl software-properties-common\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\nsudo apt update\nsudo apt install \"nom_del_paquet\" (sudo apt install docker-ce)\n</code></pre> </p> <p></p> <p></p> <p>ESCRIURE LA L\u00cdNIA 3 A LA RUTA: /etc/apt/source.list/</p>"},{"location":"Sprint1/#desinstallar-aplicacions-amb-repositoris","title":"Desinstal\u00b7lar aplicacions amb repositoris","text":"<p><pre><code>sudo apt remove \"nom_del_paquet\" (sudo apt remove docker-ce)\nsudo apt purge docker-ce\nsudo rm /etc/apt/sources.list.d/docker.list\nsudo apt autoremove\n</code></pre> </p> <p></p> <p></p> <p></p>"},{"location":"Sprint1/#installacio-amb-dpkg","title":"Instal\u00b7laci\u00f3 amb dpkg","text":"<p><pre><code>sudo dpkg -i \"arxiu.deb\"\n</code></pre> </p> <p></p> <p></p>"},{"location":"Sprint1/#desinstallacio-amb-dpkg","title":"Desinstal\u00b7laci\u00f3 amb dpkg","text":"<p><pre><code>sudo dpkg -r \"nom_del_paquet\"\n</code></pre> </p>"},{"location":"Sprint1/#installacio-amb-aptitude","title":"Instal\u00b7laci\u00f3 amb aptitude","text":"<p><pre><code>sudo aptitude install \"nom_del_paquet\"\n</code></pre> </p>"},{"location":"Sprint1/#desinstallacio-amb-aptitude","title":"Desinstal\u00b7laci\u00f3 amb aptitude","text":"<p><pre><code>sudo aptitude purge \"nom_del_paquet\"\n</code></pre> </p>"},{"location":"Sprint1/#compilar-a-traves-de-codi-font","title":"Compilar a traves de codi font","text":""},{"location":"Sprint2/","title":"Sprint2","text":""},{"location":"Sprint2/#sprint2","title":"Sprint2","text":""},{"location":"Sprint2/#1-gestio-de-processos","title":"1. Gesti\u00f3 de processos","text":"<p>Alhora d'identificar procesos podem utilitzar la comanda <code>pstree</code>. Per\u00f2, per no tindre incompatibilitats utilitzarem la comanda <code>sudo su</code> per estar en superadmin. </p> <p>Ara si utilitzem <code>pstree -h \"usuari\"</code> podrem veure els procesos executats per l'usuari indicat (en el meu cas, pmc) </p> <p>A m\u00e9s a m\u00e9s, utilitzant la comanda <code>pstree -h -p \"usuari\"</code> podem a m\u00e9s veure els procesos de l'usuari amb el ID de cada proces. </p>"},{"location":"Sprint2/#11-matar-processos","title":"1.1 Matar processos","text":"<p>Amb la comanda top a la terminal, se'ns obrir\u00e0 un administrador de tasques a temps real de tots els processos que tenim funcionant al nostre sistema i les seves especificacions. Per identificar a un process ens hem de fixar en el seu PID.</p> <p>Si nosaltres volem acabar amb un proces solament hem d'utilitzar la comanda:</p> <pre><code>sudo kill -7 elpiddelprocess\n</code></pre> <p></p>"},{"location":"Sprint2/#12-definicions","title":"1.2 Definicions","text":"<p>Qu\u00e8 \u00e9s un usuari? Podem treballar amb m\u00e9s d'un usuari simult\u00e0niament? Un usuari \u00e9s una entitat creada per poder gestionar un sistema opertiu, executar comandes, gestionar directoris, etc.</p> <p>Qu\u00e8 \u00e9s un grup i quina utilitat t\u00e9 agrupar usuaris en grups? Un grup \u00e9s una agrupaci\u00f3 d'usuaris el qual serveix per aplicar permisos i restricci\u00f3n molts usuaris al mateix temps.</p>"},{"location":"Sprint2/#2-gestio-dusuaris-i-grups-i-permisos","title":"2. Gesti\u00f3 d'usuaris i grups i permisos","text":""},{"location":"Sprint2/#21-crear-nous-usuaris","title":"2.1 Crear nous usuaris","text":"<p><pre><code>adduser alumne1\n</code></pre> <pre><code>adduser alumne2\n</code></pre> <pre><code>adduser alumne3\n</code></pre> <pre><code>adduser alumne4\n</code></pre> </p> <p><pre><code>deluser alumne2\n</code></pre> </p>"},{"location":"Sprint2/#212-versio-grafica","title":"2.1.2 Versi\u00f3 gr\u00e0fica","text":""},{"location":"Sprint2/#22-permisos","title":"2.2 Permisos","text":"<ul> <li> <p><code>/etc/passwd</code> Aquest fitxer cont\u00e9 informaci\u00f3 sobre els usuaris del sistema. Cada l\u00ednia representa un usuari i cont\u00e9 diversos camps separats per dos punts (:) amb informaci\u00f3 b\u00e0sica.</p> </li> <li> <p><code>/etc/group</code> Aquest fitxer emmagatzema la informaci\u00f3 sobre els grups del sistema. Cada l\u00ednia representa un grup amb camps separats per dos punts (:).</p> </li> <li> <p><code>/etc/shadow</code> Aquest fitxer cont\u00e9 les contrasenyes xifrades dels usuaris, aix\u00ed com altres par\u00e0metres relacionats amb l'expiraci\u00f3 de la contrasenya. Nom\u00e9s pot ser llegit per l'administrador del sistema per q\u00fcestions de seguretat.</p> </li> <li> <p><code>/etc/gshadow</code> Aquest fitxer emmagatzema les contrasenyes dels grups i altres configuracions d'acc\u00e9s als grups. Nom\u00e9s pot ser llegit per l'administrador.</p> </li> </ul> <p>En el fitxer <code>/etc/shadow</code>, el segon camp pot contenir s\u00edmbols especials que indiquen l'estat de la contrasenya de l'usuari:</p> <p>El * indica que el compte est\u00e0 bloquejat. Quan el sistema troba un * en aquest camp, es considera que no es pot iniciar sessi\u00f3 amb aquest compte.</p> <p>El ! tamb\u00e9 indica que el compte est\u00e0 bloquejat, per\u00f2 en aquest cas la contrasenya encara \u00e9s present per\u00f2 est\u00e0 desactivada. Aix\u00f2 es fa per impedir l'acc\u00e9s sense eliminar la contrasenya completament.</p> <p>En el fitxer <code>/etc/shadow</code>, el tercer camp, que correspon a la data de l'\u00faltim canvi de contrasenya, s'anomena \"epoch\". Aquesta data es calcula com el nombre de dies transcorreguts des de l'1 de gener de 1970, una data base coneguda com Unix Epoch.</p>"},{"location":"Sprint2/#213-comprovacio","title":"2.1.3 Comprovaci\u00f3:","text":""},{"location":"Sprint2/#23-crear-grups","title":"2.3 Crear grups","text":"<p>Creem 2 grups (alumnes i profes) amb la comanda addgroup.  <pre><code>addgroup alumens\n</code></pre> <pre><code>addgroup profes\n</code></pre> </p> <p>Esborrem el grup de profes. </p> <p>Creem el grup jocs </p> <p>Afegim un usuari a un grup.  <pre><code>usermod -a -G group user\n</code></pre></p>"},{"location":"Sprint2/#231-modificacio-grups","title":"2.3.1 Modificaci\u00f3 grups","text":"<p>Modifiquem el nom del grup a \"Jocs\" a \"alumnesASIX\". <pre><code>groupmod -n alumnesASIX jocs\n</code></pre>  Modifiquem la paraula de pas d'alumne1.</p> <p><pre><code>usermod -p contrasenya alumne1\n</code></pre> <pre><code>cat /etc/shadow | grep alumne1\n</code></pre> </p> <p>Modifiquem el nom d'alumne4 per alumne2.</p> <pre><code>usermod -l alumne2 alumne4\n</code></pre> <p></p> <p>Afegim dintre del grup alumnesASIX  als 3 alumnes. <pre><code>adduser alumne1 alumnesASIX\nadduser alumne2 alumnesASIX\nadduser alumne3 alumnesASIX\n</code></pre>  Treiem a l'alumne2 del grup. <pre><code>deluser alumne2 alumnesASIX\n</code></pre> O, tamb\u00e9 es podria utilitzar: <pre><code>sudo gpasswd -d alumne2 alumnesASIX\n</code></pre></p> <p></p> <p>Afegim a l'alumne1 al grup de jocs, per\u00f2 com a administrador i alumne2 com a usuari normal.</p> <pre><code>sudo usermod -aG jocs alumne1\nsudo usermod -aG jocs alumne2\n</code></pre> <p>Fem que l'alumne1 tingui com a grup principal el grup d'alumneASIX.</p> <pre><code>sudo usermod -g alumnesASIX alumne1\n</code></pre> <ul> <li>Quina \u00e9s la difer\u00e8ncia entre el que apareix al fitxer /etc/group i el que apareix al fitxer /etc/gshadow?</li> </ul> <p>/etc/group: Emmagatzema informaci\u00f3 b\u00e0sica sobre els grups, el nom del grup, l\u2019identificador de grup (GID) i els membres associats.</p> <p>/etc/gshadow: Emmagatzema la informaci\u00f3 confidencial del grup, la contrasenya encriptada del grup i els usuaris que tenen permisos per administrar-lo.</p>"},{"location":"Sprint2/#24-bloqueig","title":"2.4 Bloqueig","text":"<p>Bloquejem un usuari i comprovem que no pots accedir amb ell.</p> <p><pre><code>usermod -L alumne3\n</code></pre> </p> <p>Ara, desbloquejem i comprovem que ja pots tornar a accedir amb ell. <pre><code>usermod -U alumne3\n</code></pre> </p> <ul> <li>Per a qu\u00e8 pot servir bloquejar un usuari? Podem voldre a bloquejar els usuaris per ocultar-los o impedir l'utilitzaci\u00f3 d'aquests per raons de seguretat.</li> </ul>"},{"location":"Sprint2/#25-caducitat-de-les-paraules-de-pas","title":"2.5 Caducitat de les paraules de pas","text":"<ul> <li>M (Maximum days): Defineix el nombre m\u00e0xim de dies abans que la contrasenya caduqui i l\u2019usuari estigui obligat a canviar-la.</li> <li>m (Minimum days): Defineix el nombre m\u00ednim de dies abans que un usuari pugui canviar la seva contrasenya despr\u00e9s d\u2019haver-la canviat.</li> <li>W (Warning days): Defineix el nombre de dies d'av\u00eds abans de la caducitat, en qu\u00e8 el sistema notificar\u00e0 a l'usuari que ha de canviar la contrasenya.</li> <li>E (Expire date): Permet especificar una data exacta per a la caducitat del compte de l'usuari. Per exemple, -E 2024-12-31 caducaria l'usuari el 31 de desembre de 202</li> <li>M 30: Estableix la caducitat de la contrasenya a 30 dies. Aix\u00f2 vol dir que l\u2019usuari haur\u00e0 de canviar la seva contrasenya cada 30 dies.</li> <li>m 7: Estableix el m\u00ednim de dies abans que l\u2019usuari pugui canviar la seva contrasenya de nou, que en aquest cas \u00e9s 7 dies.</li> <li>W 5: Estableix que l\u2019usuari rebr\u00e0 un av\u00eds 5 dies abans que caduqui la seva contrasenya.</li> </ul> <p>Primer, amb la comanda <code>adduser provachage</code> creem el usuari de proves que utilitzarem. </p> <p>Despr\u00e8s amb la seg\u00fcent comanda: <pre><code>chage -M 30 -m 7 -W 5 provachage\n</code></pre>  Apliquem la configuraci\u00f3 al usuari</p> <p>Finalment, amb <code>chage -l provachage</code> verifiquem la configuarci\u00f3. </p>"},{"location":"Sprint2/#26-editar-valors-de-nous-usuaris","title":"2.6 Editar valors de nous usuaris","text":"<pre><code>sudo nano /etc/login.defs\n</code></pre> <p>UID_MIN</p> <p>UID_MAX</p> <p><pre><code>sudo nano /etc/adduser.conf\n</code></pre> Dintre d'aquest arxiu podem configurar els par\u00e0metres quan es crea un nou usuari. D'aquesta manera tots el usuaris que creem tindran aplicats els par\u00e0metres que nosaltres hem marcat. Llavors farem una prova modificant els seg\u00fcents par\u00e0metres:</p> <p><code>SHELL=/bin/bash</code></p> <p><code>HOME=/var</code></p> <p><code>SKEL=/etc/skel</code> <pre><code>sudo nano /etc/default/useradd\n</code></pre> </p>"},{"location":"Sprint2/#261-comprovacio","title":"2.6.1 Comprovaci\u00f3:","text":""},{"location":"Sprint2/#262-afegir-usuaris-al-sudo","title":"2.6.2 Afegir usuaris al sudo","text":"<p>La comanda seg\u00fcent serveix per afegir un usuari al group sudo.</p> <p><pre><code>adduser alumne1 sudo \n</code></pre> </p> <p>D'altra banda, aquesta comanda serveix per treure al alumne1 del group sudo. <pre><code>deluser alumne1 sudo \n</code></pre> </p> <pre><code>gpasswd -A user group\n</code></pre>"},{"location":"Sprint2/#263-borrar-usuaris","title":"2.6.3 Borrar usuaris","text":"<p>Al moment de voldre eliminar un usuari del sistema tenim dues maneres. La primera \u00e9s amb la seg\u00fcent comanda per borrar l'usuari SENSE LA SEVA /HOME <pre><code>deluser provaborrar\n</code></pre>  Pe'l contrari, amb la seg\u00fcent comanda borrem l'usuari i la seva /home al mateix temps  <pre><code>userdel -r provaborrar\n</code></pre> </p>"},{"location":"Sprint2/#264-enllacar","title":"2.6.4 Enlla\u00e7ar","text":"<p><pre><code>ls -s /tmp /etc/skel/temporalcd \n</code></pre> </p>"},{"location":"Sprint2/#265-editar-ruta-terminal-per-defecte","title":"2.6.5 Editar ruta terminal per defecte","text":"<pre><code>nano /etc/skel/.profile\n</code></pre> <p>Editem la fila PWD='var' perqu\u00e8 quan s'obrigue una nova terminal, la ruta per defecte ser\u00e0 /var.</p> <p></p> <p>Dintre de l'arxiu agregarem la comanada <code>rm -r /home/$USER/Baixades/*</code> per a que quan accedim a un usuari nou, borri directament els arxius de la seva carpeta /Baixades <pre><code>nano /etc/skel/.bash_logout\n</code></pre></p> <p></p> <p></p>"},{"location":"Sprint2/#27-permisos-normals-uog","title":"2.7 Permisos \"normals\" UOG","text":"<p>Llenguatge octal per calcular permissos</p> <p>(-) significa que \u00e9s un fitxer</p> <p>(d) significa que \u00e9s un directori/carpeta</p> <p>(r) read</p> <p>(w) write</p> <p>(x) execute</p> <p>Podem veure amb la comanda <code>ls -l</code> el llistat d'arxiu/directoris de la carpeta actual amb els seus permisos i m\u00e9s informaci\u00f3.</p> <p></p> <p>Amb la comanda <code>chgrp -R group /carpeta</code> podem donar els permisos normals a un grup espec\u00edfic per a la carpeta.</p> <p></p>"},{"location":"Sprint2/#28-umask","title":"2.8 UMASK","text":"<p>UMASK (User Mask) \u00e9s una configuraci\u00f3 en Ubuntu i altres sistemes basats en Linux que controla quins permisos tindran per defecte els fitxers i directoris nous que cre\u00efs. Podr\u00edem dir que actua com un filtre que elimina determinats permisos del que es permet per defecte, ajudant a mantenir la seguretat del sistema.</p> <p>Quan crees un fitxer o un directori, el sistema aplica uns permisos base predeterminats. Aquests s\u00f3n:</p> <ul> <li>Fitxers normals: Tenen permisos base de 666 (lectura i escriptura per a tothom, per\u00f2 sense execuci\u00f3).</li> <li>Directoris: Tenen permisos base de 777 (lectura, escriptura i execuci\u00f3 per a tothom).</li> </ul> <p>A continuaci\u00f3, la UMASK es resta d'aquests permisos base. Aix\u00ed, es defineixen els permisos finals del fitxer o directori nou.</p> <p>Pots veure la configuraci\u00f3 actual de UMASK simplement escrivint: <code>umask</code></p> <p></p> <p>Per canviar-la temporalment a un valor com 077, que bloquejaria tots els permisos per als altres: <pre><code>umask 077\n</code></pre> Els fitxers creats despr\u00e9s d'aquest canvi nom\u00e9s tindran permisos per a tu.</p>"},{"location":"Sprint2/#29-permisos-especials","title":"2.9 Permisos especials","text":"<p>Sabem que amb la comanda <code>chmod ...</code> podem modificar els permisos sobre les posicions dels n\u00faemeros en octal.</p> <ul> <li>Primera posici\u00f3: l'usuari propietari. </li> <li>Segona posici\u00f3: grups.</li> <li>Tercera posici\u00f3: altres. </li> </ul> <p></p> <p>Ara, podem agregar aquests permisos a carpetes compartides amb les comandes seg\u00fcent:</p> <p>Per a aplicar aquest permisos a un arxiu en una carpeta compartida ho podem fer amb: <pre><code>chmod -x arxiu\n</code></pre> </p> <p>Despr\u00e8s, amb: <pre><code>chmod u+s arxiu\n</code></pre> </p> <p><pre><code>chmod o+t carpeta/\n</code></pre> </p> <p>Situa't al teu directori personal (/home/usuari). Crea utilitzant el teu usuari est\u00e0ndard (no root) un fitxer buit anomenat ex1.txt.  </p> <p>Qui \u00e9s el usuari propietari del fitxer? Com pots veure aquesta informaci\u00f3? L'usuari propietari del fitxer \u00e9s el propi usuari pmc. Aquesta informaci\u00f3 la pots veure amb la comanda <code>ls -l</code>.</p> <p>Qui \u00e9s el grup propietari del fitxer? Com pots veure aquesta informaci\u00f3? Tamb\u00e9 el grup propietari de l'arxiu ex1 creat \u00e9s el mateix usuari pmc. Aquesta informaci\u00f3 la pots veure amb la comanda <code>ls -l</code>.</p> <p>Situa't al teu directori personal (/home/usuari). Crea utilitzant amb l'usuari root (executant amb sudo) un fitxer buit anomenat ex2.txt.</p> <p> </p> <p>Qui \u00e9s el usuari propietari del fitxer? L'usuari propietari del fitxer \u00e9s l'usuari root. Aquesta informaci\u00f3 la pots veure amb la comanda <code>ls -l</code>.</p> <p>Qui \u00e9s el grup propietari del fitxer? L'usuari propietari del fitxer \u00e9s l'usuari root. Aquesta informaci\u00f3 la pots veure amb la comanda <code>ls -l</code>.</p> <p>Utilitzant notaci\u00f3 octal (000, 010, \u2026), crea un fitxer ex7.txt al teu directori personal i assigna-li amb una sola execuci\u00f3 els seg\u00fcents permisos:</p> <p>Perm\u00eds de lectura i escriptura per a l'usuari.</p> <p>Perm\u00eds de nom\u00e9s lectura per al grup.</p> <p>Cap perm\u00eds per a altres.</p> <p><pre><code>touch ex7.txt\nchmod 640 ex7.txt\n</code></pre> </p> <p>Verifiquem el permisos de l'arxiu. <pre><code>ls -l ex7.txt\n</code></pre> </p> <p>Utilitzant notaci\u00f3 octal (000, 010, \u2026), crea un fitxer ex8.txt al teu directori personal i assigna-li amb una sola execuci\u00f3 els seg\u00fcents permisos:</p> <p>Perm\u00eds de lectura, escriptura i execuci\u00f3 per a l'usuari.</p> <p>Perm\u00eds d'escriptura per al grup.</p> <p>Perm\u00eds d'execuci\u00f3 per a altres.</p> <p><pre><code>touch ex8.txt\nchmod 721 ex8.txt\n</code></pre> </p> <p>Verifiquem el permisos de l'arxiu.</p> <p><pre><code>ls -l ex8.txt\n</code></pre> </p> <p>Utilitzant notaci\u00f3 octal (000, 010, \u2026), crea un fitxer ex9.txt al teu directori personal i assigna-li amb una sola execuci\u00f3 els seg\u00fcents permisos:</p> <p>Perm\u00eds de lectura, escriptura i execuci\u00f3 per a l'usuari.</p> <p>Perm\u00eds de lectura i escriptura per al grup.</p> <p>Perm\u00eds de nom\u00e9s lectura per a altres.</p> <p><pre><code>touch ex9.txt\nchmod 764 ex9.txt\n</code></pre> </p> <p>Verifiquem el permisos de l'arxiu. <pre><code>ls -l ex9.txt\n</code></pre> </p> <p>Utilitzant notaci\u00f3 octal (000, 010, \u2026), crea un fitxer ex10.txt al teu directori personal i assigna-li amb una sola execuci\u00f3 els seg\u00fcents permisos:</p> <p>Perm\u00eds activat SUID.</p> <p>Perm\u00eds de lectura i execuci\u00f3 per a l'usuari.</p> <p>Perm\u00eds de sols lectura per al grup.</p> <p>Cap perm\u00eds per a altres.</p> <p><pre><code>touch ex10.txt\nchmod 4750 ex10.txt\n</code></pre> </p> <p>Verifiquem el permisos de l'arxiu.</p> <p><pre><code>ls -l ex10.txt\n</code></pre> </p> <p>Utilitzant notaci\u00f3 octal (000, 010, \u2026), crea un fitxer ex11.txt al teu directori personal i assigna-li amb una sola execuci\u00f3 els seg\u00fcents permisos:</p> <p>Permisos activats SUID i GUID.</p> <p>Perm\u00eds de lectura per a l'usuari.</p> <p>Perm\u00eds d'escriptura per al grup.</p> <p>Perm\u00eds de lectura per a altres.</p> <p><pre><code>touch ex11.txt\nchmod 6754 ex11.txt\n</code></pre> </p> <p>Verifiquem el permisos de l'arxiu.</p> <p><pre><code>ls -l ex11.txt\n</code></pre> </p> <p>Utilitzant notaci\u00f3 octal (000, 010, \u2026), crea un fitxer ex12.txt al teu directori personal i assigna-li amb una sola execuci\u00f3 els seg\u00fcents permisos:</p> <p>Perm\u00eds sticky bit activat.</p> <p>Perm\u00eds de lectura i execuci\u00f3 per a l'usuari.</p> <p>Cap perm\u00eds per al grup.</p> <p>Perm\u00eds de lectura per a altres.</p> <p><pre><code>touch ex12.txt\nchmod 1754 ex12.txt\n</code></pre> </p> <p>Verifiquem el permisos de l'arxiu.</p> <p><pre><code>ls -l ~/ex12.txt\n</code></pre> </p> <p>Crea una carpeta pt13 al teu directori personal, i crea els fitxers ex13a.txt i ex13b.txt dintre de la carpeta pt13. Utilitzant notaci\u00f3 octal (000, 010, \u2026), estableix els seg\u00fcents permisos a la carpeta pt13, de forma que es propaguen autom\u00e0ticament a tots els fitxers, i demostra-ho:</p> <p>Perm\u00eds de lectura, escriptura i execuci\u00f3 per a l'usuari.</p> <p>Perm\u00eds de lectura i escriptura per al grup.</p> <p>Perm\u00eds de lectura i escriptura per a altres.</p> <p>Creem la carpeta i els fitxers: <pre><code>mkdir pt13\ntouch pt13/ex13a.txt pt13/ex13b.txt\n</code></pre> </p> <p>Assignar permisos a la carpeta: <pre><code>chmod 377 pt13  # Heretaran lectura, escriptura i execuci\u00f3 per a l'usuari i grup\n</code></pre> </p> <p>Verifiquem el permisos: <pre><code>ls -ld pt13\nls -l pt13\n</code></pre> </p> <p>Utilitzant notaci\u00f3 [+-=], crea un fitxer ex14.txt al teu directori personal i fes el seg\u00fcent amb una sola comanda: <p>Afegeix perm\u00eds d'execuci\u00f3 per a l'usuari</p> <p>Afegeix perm\u00eds d'escriptura i execuci\u00f3 per al grup.</p> <p>Creem el fitxer i modifiquem els permisos: <pre><code>touch ex14.txt\nchmod u+x,g+wx ex14.txt\n</code></pre> </p> <p>Verifiquem el permisos de l'arxiu:</p> <p><pre><code>ls -l ex14.txt\n</code></pre> </p> <p>Utilitzant notaci\u00f3 [+-=], crea un fitxer ex15.txt al teu directori personal i fes el seg\u00fcent amb una sola comanda: <p>Afegeix perm\u00eds d'escriptura per a tots els tipus d'usuari.</p> <p>Creem el fitxer i modifiquem els permisos: <pre><code>touch ex15.txt\nchmod a+w ex15.txt\n</code></pre> </p> <p>Verifiquem els permisos de l'arxiu: <pre><code>ls -l ex15.txt\n</code></pre> </p> <p>Utilitzant notaci\u00f3 [+-=], crea un fitxer ex16.txt al teu directori personal i fes el seg\u00fcent amb una sola comanda: <p>Elimina perm\u00eds d'escriptura per a l'usuari.</p> <p>Elimina perm\u00eds de lectura per als altres.</p> <p>Creem el fitxer i modifiquem els permisos: <pre><code>touch ex16.txt\nchmod u-w,o-r ex16.txt\n</code></pre> </p> <p>Verifiquem els permisos de l'arxiu: <pre><code>ls -l ex16.txt\n</code></pre> </p> <p>Utilitzant notaci\u00f3 [+-=], crea un fitxer ex17.txt al teu directori personal i fes el seg\u00fcent amb una sola comanda: <p>Estableix els permisos d'escriptura i d'execuci\u00f3 per a tots els tipus d'usuari.</p> <p>Creem el fitxer i modifiquem els permisos: <pre><code>touch ex17.txt\nchmod ugo+wx ex17.txt\n</code></pre> </p> <p>Verifiquem els permisos de l'arxiu: <pre><code>ls -l ex17.txt\n</code></pre> </p> <p>Crea com a administrador el fitxer pt22.txt (sudo) al teu directori personal i a continuaci\u00f3 fes:</p> <p>Que el teu usuari habitual es faci usuari propietari del fitxer.</p> <p>Que el teu grup habitual es faci propietari del fitxer.</p> <p>Creem el fitxer com a root: <pre><code>touch pt22.txt\n</code></pre> </p> <p>Canviem el propietari: <pre><code>sudo chown pmc pt22.txt\n</code></pre> </p> <p>Canviem el grup: <pre><code>sudo chgrp pmc pt22.txt\n</code></pre> </p> <p>Verifiquem els canvis: <pre><code>ls -l pt22.txt\n</code></pre> </p>"},{"location":"Sprint2/#210-acl-access-control-list","title":"2.10 ACL (Access Control List)","text":"<p>getfacl proves/ MOSTRA INFORMACI\u00d3</p> <p>setfacl -m user:prova3:--- proves/ AFEGIR RESTRICCIONS</p> <p>setfacl -b proves/ BORRAR RESTRICCIONS</p> <p>Amb el teu usuari local (pmc) crea la carpeta exercicis i d\u00f3na-li permisos 770 de forma recursiva.</p> <p>Amb la comanda <code>chmod -R</code> podem donar permisos recursivament.</p> <p><pre><code>chmod -R 770 /exercicis\n</code></pre> </p> <p>Amb <code>ls -ld</code> podem veure els permisos de la carpeta.</p> <p><pre><code>ls -ld /exercicis\n</code></pre> </p> <p>Ara, amb la comanda <code>setfacl -R -m</code> podem crear una nova llista ACL de manera que l\u2019usuari vesper tingui tots els permisos.</p> <p><pre><code>setfacl -R -m u:vesper:rwx exercicis/\n</code></pre> </p> <p>I aqui est\u00e0 la comprovaci\u00f3. Amb la comanda <code>getfacl exercicis/</code>.</p> <p></p> <p>Dintre de la carpeta exercicis creem una altra que es digui repas</p> <p> </p> <p>Si volem ara comprovar els permisos de les llistes ACL, podem utilitzar aquestes comandes per accedir amb l'usuari vespre, crear un fitxer dintre i sortir.</p> <p><pre><code>sudo -u vesper bash\ntouch ~/exercicis/repas/ex1  \nexit \n</code></pre> </p> <p></p> <p>La comanda <code>setfacl -R -b</code> esborra els permisos ACL per a la carpeta exercicis quedant nom\u00e9s els UGO. <pre><code>setfacl -R -b ~/exercicis  \n</code></pre> </p> <p>I comprovem i verifiquem que ja no hi han ACL</p> <pre><code>getfacl exercicis/  \nls -ld exercicis/ \n</code></pre> <p></p> <p></p> <p>Creem un grup anomenat pugs i afegim dintre l\u2019usuari vesper</p> <p><pre><code>groupadd pugs\n</code></pre> <pre><code>usermod -aG pugs vesper\n</code></pre> </p> <p>Creem un altre usuari anomenat perrete</p> <p></p> <p>Amb el teu usuari local (pmc) creo un arxiu de text amb permisos 770.</p> <p> </p> <p>Finalment, creo una ACL per a aquest arxiu de forma que els usuaris del grup pugs puguin llegir-lo i modificar-lo i la resta d\u2019usuaris res. Comprovem amb els dos usuaris que tenim, vesper i perrete</p> <p>Amb aquesta comanda dono permisos d'escriptura i lectura al grup. <pre><code>setfacl -m g:pugs:rw exercicis/fitxerprova.txt  \n</code></pre> </p> <p>D'altra banda, amb aquesta denego l'acc\u00e9s a la resta d'usuaris. <pre><code>setfacl -m o::--- exercicis/fitxerprova.txt \n</code></pre> </p> <p></p> <p>Finalment, comprovem l'acc\u00e9s dels dos usuaris vesper i perrete. <pre><code>sudo -u vesper nano exercicis/fitxer.txt\n</code></pre> <pre><code>sudo -u perrete nano exercicis/fitxer.txt\n</code></pre></p>"},{"location":"Sprint2/#3-sistemes-de-fitxers-i-particions","title":"3. Sistemes de fitxers i particions","text":""},{"location":"Sprint2/#31-teoria","title":"3.1 Teoria:","text":"<p>Estructura de la informaci\u00f3</p> <ul> <li> <p>Mida sector</p> </li> <li> <p>Mida block</p> </li> <li> <p>Fragmentaci\u00f3 interna: Espai desaprofitat dels blocks o clusters //soluci\u00f3: fer els bloc m\u00e9s petits</p> </li> <li> <p>Fragmentaci\u00f3n externa: Arixus guardats en molt arxius a la vegada, aixo fa que la velocitat de lectura i escriptura es reduixque. </p> </li> </ul>"},{"location":"Sprint2/#32-tipus-de-formateig","title":"3.2 Tipus de formateig","text":""},{"location":"Sprint2/#33-sistemes-de-fitxers","title":"3.3 Sistemes de fitxers:","text":"<p>Un sector es la unitat m\u00ednima f\u00edsica en la que es guarden les dades (unitat per defecte =512) (sector)</p> <p>El sistema operatiu funciona = Mida del blocs (cluster) \u00e9s la unitat m\u00ednima 4.096 bytes // podem canviar la mida dels blocs, per\u00f2 no dels sectors. </p> <ul> <li><code>du -b arxiu</code> veure la mida dels arxius.</li> <li><code>du -sh arxiu</code> veure la mida real dels arxius.</li> <li><code>df -T e4defracg -c /dev/sda2</code> comprobar si fa falta defragmentar el disc.</li> </ul> <p>Format d'alt nivell: no borra els fitxers, borra els sistema d'arxius (no els borrar pero els oculta per a tu), ignora sectors.</p> <p>Format normal: no borra els fitxers, borra els sistema d'arxius. Pero, si hi han sectors defectuosos no els guarda.</p> <p>Format baix nivell: borra fitxers, borra sistemes d'arxiu i no comprova res. BORRA TOT, COM SI FOS UN DE F\u00c0BRICA.</p> <p>La comanda <code>fdisk -l</code> servei per mirar el llistat de partiions muntados i no muntas que tenim al sistema. </p> <p>A continuaci\u00f3, si volem muntar una nova partici\u00f3 ens hem d'adentra al men\u00fa de creaci\u00f3 de particions. Aix\u00f2 ho aconseguim amb la seg\u00fcent comanda (en el meu cas, la ruta del disc es /dev/sda): <pre><code>fdisk \"ruta del disc\"\n</code></pre> </p> <p>Al moment de ja estar en el men\u00fa, per comen\u00e7ar a configurar amb la lletra <code>n</code> creem una nova partici\u00f3. utilitzem el elements per defecte menys el tamany del segon sector, fiquem la meitat.</p> <p></p> <p>Finalment, per aplicar el canvis realitzats hem d'utilitzar la lletra <code>w</code>.</p> <p></p> <p><pre><code>mkfs.ext4 -b 2048 /dev/sdb1\n</code></pre> </p> <p><pre><code>tune2fs -l /dev/sdb1 | grep Block\n</code></pre> </p>"},{"location":"Sprint2/#331-muntatge-provisional","title":"3.3.1 MUNTATGE PROVISIONAL","text":"<p>Creem una carpeta qualsevol i muntem la nostra partici\u00f3 provisional que els canvis es desfaran al moment de reiniciar la m\u00e0quina completament. <pre><code>mount -t ext4 (permisos opcional) /dev/sdb1 /var/particio1\n</code></pre> </p> <p>Els archius no desapareixen si fas umount </p>"},{"location":"Sprint2/#332-muntatge-permanent","title":"3.3.2 MUNTATGE PERMANENT","text":"<p>Ara, per fer el muntatge permanentment haurem d'editar l'arxiu /etc/fstab. Dintre d'aquest document s'haur\u00e0 d'editar la l\u00ednia de la ruta del muntatge. Ho aconseguiran fent-ho d'aquesta manera. <pre><code>sudo nano /etc/fstab\n</code></pre> </p>"},{"location":"Sprint2/#34-sistemes-de-fitxers","title":"3.4 SISTEMES DE FITXERS","text":"<p>ext4: L'ext4 \u00e9s un sistema de fitxers utilitzat en Linux que serveix per organitzar i emmagatzemar dades al disc de manera eficient i segura. \u00c9s r\u00e0pid, fiable i capa\u00e7 de gestionar fitxers molt grans i discs moderns.</p>"},{"location":"Sprint2/#4-copies-de-seguretat-i-automatitzacio-de-tasques","title":"4. C\u00f2pies de seguretat i automatitzaci\u00f3 de tasques","text":""},{"location":"Sprint2/#41-conceptes-basics","title":"4.1 Conceptes b\u00e0sics","text":"<p>S'ha d'establir una bona pol\u00edtica de c\u00f2pia de seguretat</p> <p>Completa: \u00c9s una c\u00f2pia de seguretat la qual guarda totes les dades d'una vegada de tot el disc. \u00c9s m\u00e9s f\u00e0cil de recuperar les dades, ja que per a restaurar les dades es necessita l'\u00faltima completa. Finalment, la c\u00f2pia m\u00e9s lenta, perqu\u00e8 ha de copiar tota la informaci\u00f3 del disc dur.</p> <p>Diferencial: Solament guarda les difer\u00e8ncies que hi ha des dee l'\u00faltima c\u00f2pia completa. Aquesta \u00e9s m\u00e9s r\u00e0pida de fer a comparaci\u00f3 de la completa perqu\u00e8 ha de guardar molts menys arxius i dades (tot depenent de tots els canvis que has pogut fer en un dia, per\u00f2 sempre ser\u00e0 menys que la completa). Per recuperar les dades necessites l'\u00faltima c\u00f2pia completa i diferencial abans de l'error al sistema.</p> <p>Incremental: \u00c9s la c\u00f2pia que guarda la informaci\u00f3 de la seva anterior c\u00f2pia. \u00c9s molt m\u00e9s r\u00e0pida perqu\u00e8 guarda menys dades que les altres i per recuperar les dades es necessita tot el recorregut de c\u00f2pies des de l'\u00faltima completa fins a les anteriors a l'\u00faltima incremental que has fet abans de l'error del sistema.</p>"},{"location":"Sprint2/#42-programes-en-interficie","title":"4.2 Programes en interf\u00edcie","text":""},{"location":"Sprint2/#421-deja-dup","title":"4.2.1 Deja Dup","text":"<p>Deja Dup \u00e9s una interf\u00edcie gr\u00e0fica d'usuari (GUI) que simplifica les c\u00f2pies de seguretat mitjan\u00e7ant Duplicity com a motor. \u00c9s molt f\u00e0cil d'utilitzar, ja que est\u00e0 dissenyat per a usuaris que busquen una soluci\u00f3 senzilla i fiable. Caracter\u00edstiques principals:</p> <ul> <li>Interf\u00edcie intu\u00eftiva: Pots configurar c\u00f2pies de seguretat en nom\u00e9s uns pocs passos.</li> <li>Xifratge: Les dades es poden xifrar per protegir-les de l'acc\u00e9s no autoritzat.</li> <li>C\u00f2pies incrementals: Nom\u00e9s copia els canvis des de l'\u00faltima c\u00f2pia de seguretat, estalviant espai i temps.</li> <li>Integraci\u00f3 amb serveis al n\u00favol: Suporta serveis com Google Drive i altres llocs remots via FTP, SFTP, WebDAV, etc.</li> <li>Planificaci\u00f3 autom\u00e0tica: Pots programar c\u00f2pies de seguretat regulars.</li> </ul> <p>Per utilitzar-lo seguim els seg\u00fcents pasos:</p> <ol> <li>L'instal\u00b7lem (si no el tenim ja): <pre><code>sudo apt install deja-dup\n</code></pre></li> <li>L'obrim des del men\u00fa d\u2019aplicacions.</li> <li>Seleccionem qu\u00e8 volem incloure a la c\u00f2pia de seguretat i on desar-la (pot ser un disc local, extern o al n\u00favol).</li> <li>Configurem la freq\u00fc\u00e8ncia i si volem activar el xifratge.</li> </ol>"},{"location":"Sprint2/#422-duplicity","title":"4.2.2 Duplicity","text":"<p>Duplicity \u00e9s una eina de l\u00ednia de comandes que est\u00e0 darrere de Deja Dup. \u00c9s ideal per a usuaris avan\u00e7ats que volen m\u00e9s control sobre les seves c\u00f2pies de seguretat. Caracter\u00edstiques principals:</p> <ul> <li>Suport per a llocs remots: Funciona amb serveis al n\u00favol i servidors remots.</li> <li>C\u00f2pies de seguretat xifrades: Utilitza GPG per protegir les dades.</li> <li>C\u00f2pies incrementals i compressi\u00f3: Guarda nom\u00e9s els canvis des de l'\u00faltima c\u00f2pia, utilitzant espai m\u00ednim.</li> <li>Altament configurable: Pots ajustar cada detall del proc\u00e9s de c\u00f2pia.</li> </ul> <p>Creem una c\u00f2pia de seguretat amb la seg\u00fcent comanda: <pre><code>duplicity /carpeta/a/c\u00f2pia file:///ruta/c\u00f2pia\n</code></pre></p> <p>Restaurem la c\u00f2pia de seguretat amb la seg\u00fcent comanda: <pre><code>duplicity restore file:///ruta/c\u00f2pia /carpeta/de/restauraci\u00f3\n</code></pre></p>"},{"location":"Sprint2/#423-timeshift","title":"4.2.3 Timeshift","text":"<p>Timeshift \u00e9s una eina especialment dissenyada per fer c\u00f2pies de seguretat del sistema, similar als punts de restauraci\u00f3 de Windows. \u00c9s perfecte per restaurar el sistema en cas d'errors greus. Caracter\u00edstiques principals:</p> <ul> <li>Snapshots (instant\u00e0nies): Guarda l\u2019estat complet del sistema.</li> <li>Suport per a Btrfs i Rsync: Pot utilitzar diferents sistemes de c\u00f2pia de seguretat.</li> <li>Automatitzaci\u00f3: Pots programar instant\u00e0nies autom\u00e0tiques.</li> <li>F\u00e0cil d\u2019utilitzar: La seva interf\u00edcie \u00e9s molt senzilla i s\u2019integra b\u00e9 en sistemes com Ubuntu i Linux Mint.</li> </ul> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p>"},{"location":"Sprint2/#43-comandes","title":"4.3 Comandes","text":"<p>CP: \u00e9s un c\u00f2pia simple no intel\u00b7ligent que no mira res i ho c\u00f2pia tot en local.</p> <p>Creaci\u00f3 partici\u00f3 <code>/dev/sdc</code>.  </p> <p>Creaci\u00f3 partici\u00f3 <code>/dev/sdd</code>.  </p> <p> </p>"},{"location":"Sprint2/#44-cp","title":"4.4 CP","text":"<p>Per provar la funcionalitat de la comanda <code>cp</code>, crearem un fitxer i una carpeta de prova. </p> <p>Amb la comanda <code>sudo cp -R /rutadelsarxiusquevolscopiar /rutadeonvolscopiarelsarxius</code> podr\u00e0s copiar els arxius d'un dierctori espec\u00edfic a una altre. <pre><code>sudo cp -R /home/pmc/Documents/* /var/copia_dades/pablo\n</code></pre> </p> <p>rsync: \u00e9s un c\u00f2pia intel\u00b7ligent que nom\u00e9s copia els modificat i es pot fer entre m\u00e0quines remotres per via SSH. </p> <p>Creem uns nous arxius i eliminem els altres per fer una prova diferent. </p>"},{"location":"Sprint2/#45-rsync","title":"4.5 RSYNC","text":"<p>El que far\u00e0 aquesta comanda \u00e9s borrar els arxius que hi hagu\u00edn dintre del directori dest\u00ed i despr\u00e9s copiar\u00e0 els nous fitxers del directori origen. <pre><code>sudo rsync -av --delete /home/pmc/Docuements/ /var/copia_dades/pablo/\n</code></pre></p> <p></p> <p>DD: no \u00e9s propiament per fer c\u00f2pies d'arxius, treball en local i treballa a nivel de bloc. Serveix molt b\u00e9 per fer clonacions de disc o particions. Copia tot el sistema d'arxius. Es pot utilitzar per esborrar definitivament les dades dels arixus d'un disc/partici\u00f3. <pre><code>sudo dd if=/dev/sdc1 of=/dev/sdd1 bs=4M status progress\n</code></pre>  Si les dues ids de les particions s\u00f3n la mateixa, significa que el procediment que hem fet ha sigut correcte. </p>"},{"location":"Sprint2/#46-automatitzacio","title":"4.6 Automatitzaci\u00f3","text":""},{"location":"Sprint2/#461-teoria","title":"4.6.1 Teor\u00eda","text":"<p>Diferencies entre Cron, Anacron </p> <p>En SO anteriors funcionaven per separat pero ara funcionen conjuntament, serveix per automatitzar tasques.</p> <p>Anarcron: Quan un oridinador pugui estar apagat perqu\u00e8 quan s'encen detecta la tasca que no s'ha exectuat perqu\u00e8 estava apagat i l'executa. Quan siguen una automatitzaci\u00f3 de tasques siguen m\u00e9s a nivell general en el sistema operatiu</p> <p>Cron: S'utilitza m\u00e9s quan volem exectuar alguna cosa concretament a una hora determinada perqu\u00e8 pensem que l'ordinador estar\u00e0 enc\u00e8s.</p> <ul> <li> <p>Opcions del Cron:</p> </li> <li> <p>Utilitzarem l'arxiu /etc/chromtab quan volem exectura alguna cosa globalment per a tots el usuaris.</p> </li> <li>Quan volem definir alguna cosa especifica per a un o m\u00e9s usuaris utilitzem la comanda: <code>crontab -e -u usuari</code>.</li> </ul>"},{"location":"Sprint2/#462-practica","title":"4.6.2 Pr\u00e0ctica","text":""},{"location":"Sprint2/#chron","title":"Chron","text":"<p>Per configurar la compia de segureta amb cron, primer hem de crear un script amb amb la ruta i data a la que volem fer la c\u00f2pia de seguretat.</p> <p>Per fer aixo solament hem de crear un arxiu de text i afegir la l\u00ednia d'ordres dintre del script i guardar-lo com .sh. Per exemple, <code>copia.sh</code> <pre><code>sudo nano copia.sh\n</code></pre> <pre><code>#!/bin/bash\n\nTIMESTAMP=$(date + \"%Y%m%d_%H%M%S\")\ntar -cvf \"/home/$(whoami)/Desktop/copiaseguretat_$TIMESTAMP.tar.gz\" \"/home/$(whoami)/Documents\"\n</code></pre> </p> <p>Al finalitzar, amb <code>Ctrl+O</code> guardem i <code>Ctrl+X</code> per sortir de l'arxiu.</p> <p></p> <p>Donem permissos d'execuci\u00f3 a l'arxiu amb la comanda. <pre><code>chmod +x copia.sh\n</code></pre> </p> <p>Finalment, executem l'arxiu.</p> <p></p>"},{"location":"Sprint2/#anacron","title":"Anacron","text":"<p>A continuaci\u00f3, per configurar Anacron, ens hem de dirigir a l'arxiu <code>/etc/crontab</code> i al final de les l\u00ednies de codi configurem al nostra copia de seguretat.</p> <p>Els primers dos d\u00edgits de la l\u00edna s\u00f3n per indicar els minuts i els altes dos per indicar l'hora de la copia. D'altra banda, els altres 3 digits s\u00f3n per indicar dia del mes, mes i dia de la setmana. </p> <p></p> <p>Si copiem el script de la c\u00f2pia de seguretat a la carpeta de de configuraci\u00f3 de la c\u00f2pia de seguretat diaria (cron.daily/), s'executara la c\u00f2pia autom\u00e0ticament sense tindre que executa el script a m\u00e0 i tenint la m\u00e0quina on.</p> <p>Com podem veure, la copia s'ha creat.</p> <p></p> <p>Dintre de l'arxiu `/var/spool/anacron/cron.daily i fiquem una data espec\u00edfica, al reiniciar la m\u00e0quina tindre la c\u00f2pia de seguretat feta dintre del directori.</p> <p> </p>"},{"location":"Sprint2/#47-crear-server-ldap","title":"4.7 CREAR SERVER LDAP","text":"<p>per a fer la base del domini (arbre de directori), a traves dels arxius .ldif o a traves de comanda. </p> <p>Fem un ping a google per comprovar la conexi\u00f3 ethernet.</p> <p> <pre><code>sudo nano /etc/hostname\n</code></pre> </p> <pre><code>sudo nano /etc/hosts\n</code></pre> <p></p> <p>Despr\u00e8s, fem un <code>sudo apt update</code> per actualitzar els canvis.</p> <pre><code>sudo apt install sladp ldap-utils\n</code></pre> <p></p> <p>Configurem amb una contrasenya per l'administrador:</p> <p></p> <p>Confirmem la contrasenya:</p> <p></p> <pre><code>sudo slapcat\n</code></pre> <p></p> <p>Hem d'executar aquesta comanda en root, sin\u00f2 ens enviar\u00e0 un error d'insuficients permisos. <pre><code>dpkg-reconfigure slapd\n</code></pre></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p>"},{"location":"Sprint2/#471-crear-una-uo","title":"4.7.1 Crear una UO","text":"<p>Amb crearem el nostre arxiu de l'unitat organitzativa dels usuaris <pre><code>nano uo.ldif\n</code></pre> </p> <p><pre><code>ldapadd -c -x -D \"cn=admin,dc=sekiro,dc=cat\" -W -f uo.ldif\n</code></pre> </p>"},{"location":"Sprint2/#472-crear-usuaris","title":"4.7.2 Crear Usuaris","text":"<p><pre><code>nano usu.ldif\n</code></pre> </p> <p>Utilitzem la mateixa comanda amb el nou arxiu .ldif <pre><code>ldapadd -c -x -D \"cn=admin,dc=sekiro,dc=cat\" -W -f usu.ldif\n</code></pre> </p>"},{"location":"Sprint2/#473-crear-grup","title":"4.7.3 Crear Grup","text":"<p><pre><code>nano grup.ldif\n</code></pre> </p> <p></p>"},{"location":"Sprint2/#474-comprovacio","title":"4.7.4 Comprovaci\u00f3","text":"<p>Finalment, fem la comprovacio amb <code>sudo slapcat</code>.</p> <p></p>"},{"location":"Sprint2/#48-unir-equips-domini","title":"4.8 UNIR EQUIPS DOMINI","text":"<p>Amb la comanda <code>sudo su</code> abrim la nostra terminal amb l'usuari root.</p> <p><pre><code>apt install nscd\n</code></pre> </p> <p><pre><code>apt install libnss-ldap\n</code></pre> </p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>Sempre que quan lo client no es pugui validar al domini a part de comprovar fitxers, tamb\u00e9 farem sempre un reconfigure. <pre><code>dpkg-reconfigure ldap-auth-config\n</code></pre></p> <p></p> <p>Reconfigurem els par\u00e0metre que vulguem de cada pas i al final fem clic a \"Ok\" per continuar.</p> <p></p> <p></p> <p><pre><code>nano /etc/nsswitch.conf\n</code></pre> </p> <p></p> <p></p> <p></p>"}]}